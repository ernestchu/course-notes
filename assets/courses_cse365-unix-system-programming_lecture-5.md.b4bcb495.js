import{_ as t,c as e,a as s,b as o,d as a,o as n}from"./app.eea76462.js";const p="/course-notes/assets/a-a-star.22556830.svg",l="/course-notes/assets/a-star-a.ccd63c61.svg",r="/course-notes/assets/floating-point.e4b80ea7.svg",O=JSON.parse('{"title":"Lecture 5","description":"","frontmatter":{},"headers":[{"level":2,"title":"The greps","slug":"the-greps","link":"#the-greps","children":[{"level":3,"title":"Important flags","slug":"important-flags","link":"#important-flags","children":[]}]},{"level":2,"title":"fgrep","slug":"fgrep","link":"#fgrep","children":[{"level":3,"title":"Limitation","slug":"limitation","link":"#limitation","children":[]}]},{"level":2,"title":"grep","slug":"grep","link":"#grep","children":[{"level":3,"title":"Regular expression (regex) symbols","slug":"regular-expression-regex-symbols","link":"#regular-expression-regex-symbols","children":[]},{"level":3,"title":"Exercise","slug":"exercise","link":"#exercise","children":[]}]},{"level":2,"title":"Regex vs. Wildcards","slug":"regex-vs-wildcards","link":"#regex-vs-wildcards","children":[{"level":3,"title":"The brackets []","slug":"the-brackets","link":"#the-brackets","children":[]},{"level":3,"title":"Exercise","slug":"exercise-1","link":"#exercise-1","children":[]},{"level":3,"title":"Time for wilcards","slug":"time-for-wilcards","link":"#time-for-wilcards","children":[]}]},{"level":2,"title":"More Regular Expression Syntax","slug":"more-regular-expression-syntax","link":"#more-regular-expression-syntax","children":[{"level":3,"title":"Repetition","slug":"repetition","link":"#repetition","children":[]},{"level":3,"title":"The end of a word","slug":"the-end-of-a-word","link":"#the-end-of-a-word","children":[]},{"level":3,"title":"The start of a word","slug":"the-start-of-a-word","link":"#the-start-of-a-word","children":[]},{"level":3,"title":"Group","slug":"group","link":"#group","children":[]},{"level":3,"title":"Backreference","slug":"backreference","link":"#backreference","children":[]},{"level":3,"title":"POSIX built-in patterns","slug":"posix-built-in-patterns","link":"#posix-built-in-patterns","children":[]}]},{"level":2,"title":"Extended Regular Expressions","slug":"extended-regular-expressions","link":"#extended-regular-expressions","children":[{"level":3,"title":"Compare grep and egrep","slug":"compare-grep-and-egrep","link":"#compare-grep-and-egrep","children":[]}]}],"relativePath":"courses/cse365-unix-system-programming/lecture-5.md"}'),c={name:"courses/cse365-unix-system-programming/lecture-5.md"},i=o('<h1 id="lecture-5" tabindex="-1">Lecture 5 <a class="header-anchor" href="#lecture-5" aria-hidden="true">#</a></h1><h2 id="the-greps" tabindex="-1">The greps <a class="header-anchor" href="#the-greps" aria-hidden="true">#</a></h2><ul><li><code>fgrep</code>: <strong>f</strong>ixed-string <strong>grep</strong> to searches for strings (not regex).</li><li><code>grep</code>: <strong>g</strong>et <strong>r</strong>egular <strong>e</strong>xpression and <strong>p</strong>rint to search for regular expression patterns.</li><li><code>egrep</code>: <strong>e</strong>xtended <strong>grep</strong> for an alternative pattern description system (extended regex)</li></ul><h3 id="important-flags" tabindex="-1">Important flags <a class="header-anchor" href="#important-flags" aria-hidden="true">#</a></h3><table><thead><tr><th>Flag</th><th>Description</th></tr></thead><tbody><tr><td><code>-i</code></td><td>Case <strong>i</strong>nsensitive</td></tr><tr><td><code>-n</code></td><td>Display line <strong>n</strong>umbers</td></tr><tr><td><code>-v</code></td><td>In<strong>v</strong>ert the matches</td></tr><tr><td><code>-w</code></td><td><strong>W</strong>hole word matches</td></tr><tr><td><code>-o</code></td><td><strong>O</strong>nly display the matches, not the entire line</td></tr><tr><td><code>-e</code></td><td>After this goes a reg<strong>e</strong>x</td></tr><tr><td><code>-A</code></td><td>Set the # of lines of context to print <strong>a</strong>fter each match</td></tr><tr><td><code>-B</code></td><td>Set the # of lines of context to print <strong>b</strong>efore each match</td></tr><tr><td><code>-C</code></td><td>Set the # of lines of <strong>c</strong>ontext to print before and after each match</td></tr><tr><td><code>--color</code></td><td>Highlight the matching pattern</td></tr></tbody></table><h2 id="fgrep" tabindex="-1">fgrep <a class="header-anchor" href="#fgrep" aria-hidden="true">#</a></h2><h3 id="limitation" tabindex="-1">Limitation <a class="header-anchor" href="#limitation" aria-hidden="true">#</a></h3><ul><li>cannot use it to get approximate matches</li><li>cannot use it to get matches of more complicated patterns that cannot be described by just giving a fixed string</li></ul><h2 id="grep" tabindex="-1">grep <a class="header-anchor" href="#grep" aria-hidden="true">#</a></h2><h3 id="regular-expression-regex-symbols" tabindex="-1">Regular expression (regex) symbols <a class="header-anchor" href="#regular-expression-regex-symbols" aria-hidden="true">#</a></h3><table><thead><tr><th>Symbol</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>^</code></td><td>caret, as the first symbol of a regex, requires the expression to match the front of a line.</td><td>line begins with &#39;A&#39;: <code>^A</code></td></tr><tr><td><code>$</code></td><td>dollar sign, as the last symbol of a regex, requires the expression to match the end of a line.</td><td>line ends with &#39;Z&#39;: <code>Z$</code></td></tr><tr><td><code>\\</code></td><td>backslash, turns off special meaning for the next character.</td><td>match to a literal &#39;$&#39;: <code>\\$</code></td></tr><tr><td><code>[]</code></td><td>brackets, matches to any one of the enclosed characters.</td><td>match to any vowel: <code>[aeiou]</code></td></tr><tr><td><code>.</code></td><td>period, matches to any 1 character.</td><td>a 1-character line: <code>^.$</code></td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">Special Symbols Inside Brackets</p><table><thead><tr><th>Symbol</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>-</code></td><td>hyphen, inside <code>[]</code>, matches to a range.</td><td>a digit: <code>[0-9]</code></td></tr><tr><td><code>^</code></td><td>caret, as the first symbol inside <code>[]</code>, matches any one character except those enclosed in the <code>[]</code></td><td>not a letter: <code>[^a-zA-Z]</code></td></tr></tbody></table><div class="warning custom-block"><p class="custom-block-title">The Position of The Caret</p><p>If the caret was not placed as the first symbol inside <code>[]</code>, for example, <code>[ab^cd]</code>, then it just represents a literal `^&#39;.</p></div></div><h4 id="regex-and-state-machine" tabindex="-1">Regex and state machine <a class="header-anchor" href="#regex-and-state-machine" aria-hidden="true">#</a></h4><p>Regex is derived from the finite state machine.</p><h5 id="deternimistic-finite-state-automaton-dfa" tabindex="-1">Deternimistic finite state automaton (DFA) <a class="header-anchor" href="#deternimistic-finite-state-automaton-dfa" aria-hidden="true">#</a></h5><p>For the same input, there is exacly one transistion (deterministic) to the next state, for example</p><p><img src="'+p+'" alt="a-a-star"></p><p>In regex, <code>aa*</code>, expressing any sting of at least one a.</p><h5 id="nondeternimistic-finite-state-automaton-nfa" tabindex="-1">Nondeternimistic finite state automaton (NFA) <a class="header-anchor" href="#nondeternimistic-finite-state-automaton-nfa" aria-hidden="true">#</a></h5><p>For the same input, there can be one or more transitions (nondeterministic) to the next state, for example</p><p><img src="'+l+'" alt="a-a-star"></p><p>In regex, <code>a*a</code>, expressing any sting of at least one a.</p><h3 id="exercise" tabindex="-1">Exercise <a class="header-anchor" href="#exercise" aria-hidden="true">#</a></h3><p><strong>Problem:</strong> Draw the NFA for this regex: <code>a*a*</code></p><div class="tip custom-block"><p class="custom-block-title">Answer</p><p><img src="'+l+`" alt="a-a-star"></p><p>And the simplify/deterministic regex for it: <code>a*</code></p></div><p>Let&#39;s now look at how to use <code>grep</code></p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">grep -h</span></span>
<span class="line"><span style="color:#A6ACCD;">usage: grep </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-abcDEFGHhIiJLlmnOoqRSsUVvwxZ</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-A num</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-B num</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-C</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">num</span><span style="color:#89DDFF;">]]</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-e pattern</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-f file</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--binary-files</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--color</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">when</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--context</span><span style="color:#89DDFF;">[=</span><span style="color:#A6ACCD;">num</span><span style="color:#89DDFF;">]]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--directories</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">action</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--label</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--line-buffered</span><span style="color:#89DDFF;">]</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--null</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">pattern</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">file ...</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div><p>So, in short, we can use <code>grep [regex] [filenames]</code>.</p><details class="details custom-block"><summary>A Simple Example</summary><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">% grep -w -e &#39;three$&#39; -e &#39;four$&#39; lewis.txt </span></span>
<span class="line"><span style="color:#A6ACCD;">very large house with a housekeeper called Mrs. Macready and three</span></span>
<span class="line"><span style="color:#A6ACCD;">shall be only a statue of a Faun in her horrible house until the four</span></span>
<span class="line"><span style="color:#A6ACCD;">time of those four thrones at Cair Paravel).  Once you were all four</span></span>
<span class="line"><span style="color:#A6ACCD;">else--namely a little dwarf who stood with his back to it about four</span></span>
<span class="line"><span style="color:#A6ACCD;">there&#39;s sugar, and some matches.  And if someone will get two or three</span></span>
<span class="line"><span style="color:#A6ACCD;">&quot;Four thrones in Cair Paravel,&quot; said the Witch.  &quot;How if only three</span></span>
<span class="line"><span style="color:#A6ACCD;">hill and came straight across and stood before Aslan.  The three</span></span>
<span class="line"><span style="color:#A6ACCD;">flashing so quickly that they looked like three knives and three</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></details><details class="details custom-block"><summary>More Examples</summary><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">^word</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">         files </span><span style="color:#676E95;"># \u201Cword\u201D at the start of a line</span></span>
<span class="line"><span style="color:#A6ACCD;">grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">word$</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">         files </span><span style="color:#676E95;"># \u201Cword\u201D at the end of a line</span></span>
<span class="line"><span style="color:#A6ACCD;">grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">^word$</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">        files </span><span style="color:#676E95;"># lines containing only \u201Cword\u201D</span></span>
<span class="line"><span style="color:#A6ACCD;">grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\\^s</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">           files </span><span style="color:#676E95;"># lines containing \u201C^s\u201D</span></span>
<span class="line"><span style="color:#A6ACCD;">grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[Ww]ord</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">       files </span><span style="color:#676E95;"># search for \u201CWord\u201D or \u201Cword\u201D</span></span>
<span class="line"><span style="color:#A6ACCD;">grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">B[oO][bB]</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">     files </span><span style="color:#676E95;"># search for BOB, Bob, BOb or BoB</span></span>
<span class="line"><span style="color:#A6ACCD;">grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">^$</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">            files </span><span style="color:#676E95;"># search for blank lines</span></span>
<span class="line"><span style="color:#A6ACCD;">grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[0-9][0-9]</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">    files </span><span style="color:#676E95;"># search for pairs of numeric digits</span></span>
<span class="line"><span style="color:#A6ACCD;">grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[^a-zA-Z0-9]</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">  files </span><span style="color:#676E95;"># anything not a letter or number</span></span>
<span class="line"><span style="color:#A6ACCD;">grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">^.$</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">           files </span><span style="color:#676E95;"># lines with exactly one character</span></span>
<span class="line"><span style="color:#A6ACCD;">grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&quot;word&quot;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">        files </span><span style="color:#676E95;"># &quot;word&quot; within double quotes</span></span>
<span class="line"><span style="color:#A6ACCD;">grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&quot;*word&quot;*</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">      files </span><span style="color:#676E95;"># \u201Cword\u201D, with or without quotes</span></span>
<span class="line"><span style="color:#A6ACCD;">grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">^\\.</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">           files </span><span style="color:#676E95;"># any line that starts with \u201C.\u201D</span></span>
<span class="line"><span style="color:#A6ACCD;">grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">^\\.[a-z][a-z]</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> files </span><span style="color:#676E95;"># line start with \u201C.\u201D followed by 2 lower-case letters</span></span>
<span class="line"></span></code></pre></div></details><h2 id="regex-vs-wildcards" tabindex="-1">Regex vs. Wildcards <a class="header-anchor" href="#regex-vs-wildcards" aria-hidden="true">#</a></h2><p>Let&#39;s see the similarity and difference between <strong>regex</strong> and <strong>csh wildcards</strong></p><table><thead><tr><th>In regex</th><th>In csh wilcard</th><th>Meaning</th></tr></thead><tbody><tr><td><code>\\</code></td><td><code>\\</code></td><td>Same</td></tr><tr><td><code>[]</code></td><td><code>[]</code></td><td>Same?</td></tr><tr><td><code>.</code></td><td><code>?</code></td><td>Same but different symbols</td></tr><tr><td><code>*</code></td><td><code>*</code></td><td>Different</td></tr></tbody></table><h3 id="the-brackets" tabindex="-1">The brackets <code>[]</code> <a class="header-anchor" href="#the-brackets" aria-hidden="true">#</a></h3><p>How <code>grep</code> and csh treat a <code>[</code> <strong>without</strong> <code>]</code>?</p><h4 id="grep-1" tabindex="-1"><code>grep</code> <a class="header-anchor" href="#grep-1" aria-hidden="true">#</a></h4><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">% cat x</span></span>
<span class="line"><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">a</span></span>
<span class="line"><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">b</span></span>
<span class="line"><span style="color:#A6ACCD;">cxc</span></span>
<span class="line"><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;">d</span></span>
<span class="line"><span style="color:#A6ACCD;">e]]e</span></span>
<span class="line"><span style="color:#A6ACCD;">fx]f\\f</span></span>
<span class="line"><span style="color:#A6ACCD;">% grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> x</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">grep: brackets </span><span style="color:#89DDFF;">([</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">])</span><span style="color:#A6ACCD;"> not balanced</span></span>
<span class="line"><span style="color:#A6ACCD;">% grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\\[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> x</span></span>
<span class="line"><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">a</span></span>
<span class="line"><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;">d</span></span>
<span class="line"><span style="color:#676E95;"># grep consider a single unquoted [ as an incomplete pattern</span></span>
<span class="line"></span></code></pre></div><h4 id="csh-wildcard" tabindex="-1">csh wildcard <a class="header-anchor" href="#csh-wildcard" aria-hidden="true">#</a></h4><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">% ls</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">	]]	x	x]</span></span>
<span class="line"><span style="color:#A6ACCD;">% ls </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">% ls \\[</span></span>
<span class="line"><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#676E95;"># csh do not think a [ without ] as a wildcard parttern but plain text</span></span>
<span class="line"></span></code></pre></div><h4 id="what-if-we-want-to-find-a" tabindex="-1">What if we want to find a &quot;]&quot;? <a class="header-anchor" href="#what-if-we-want-to-find-a" aria-hidden="true">#</a></h4><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line highlighted"><span style="color:#A6ACCD;">% grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">]</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> x</span></span>
<span class="line"><span style="color:#A6ACCD;">b]b</span></span>
<span class="line"><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;">d</span></span>
<span class="line"><span style="color:#A6ACCD;">e]]e</span></span>
<span class="line"><span style="color:#A6ACCD;">fx]f\\f</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">% ls ]</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">% ls </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">*</span></span>
<span class="line"><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;">	]	]]	x]</span></span>
<span class="line"><span style="color:#676E95;"># Both of them treat it as plain text</span></span>
<span class="line"></span></code></pre></div><h4 id="what-if-we-want-a-in-the-set" tabindex="-1">What if we want a &quot;]&quot; in the set? <a class="header-anchor" href="#what-if-we-want-a-in-the-set" aria-hidden="true">#</a></h4><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">% grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[x]]</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> x</span></span>
<span class="line"><span style="color:#A6ACCD;">fx]f\\f</span></span>
<span class="line"><span style="color:#676E95;"># the regex was interprete as [x] followed by ]</span></span>
<span class="line"><span style="color:#A6ACCD;">% grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[x\\]]</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> x</span></span>
<span class="line"><span style="color:#A6ACCD;">fx]f\\f</span></span>
<span class="line"><span style="color:#676E95;"># this got interprete as [x\\] (x or \\) followed by ]</span></span>
<span class="line"><span style="color:#A6ACCD;">% grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[]x]</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> x</span></span>
<span class="line"><span style="color:#A6ACCD;">b]b</span></span>
<span class="line"><span style="color:#A6ACCD;">cxc</span></span>
<span class="line"><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;">d</span></span>
<span class="line"><span style="color:#A6ACCD;">e]]e</span></span>
<span class="line"><span style="color:#A6ACCD;">fx]f\\f</span></span>
<span class="line"><span style="color:#676E95;"># this one finally works. Because empty sets don&#39;t make sense</span></span>
<span class="line"><span style="color:#676E95;"># grep knew ] as the first element wasn&#39;t the end.</span></span>
<span class="line"></span></code></pre></div><h3 id="exercise-1" tabindex="-1">Exercise <a class="header-anchor" href="#exercise-1" aria-hidden="true">#</a></h3><p>How would grep interprete <code>[^][^\\]</code></p><div class="tip custom-block"><p class="custom-block-title">Answer</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">\u250C a special [ which indicates the start of the set.</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502\u250C a special ^ which indicates a negate set.</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502\u2502\u250C a normal ], because it os the first element of a negate set.</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502\u2502\u2502\u250C a normal [, because [ isn&#39;t special inside a [].</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502\u2502\u2502\u2502\u250C a normal ^, one of the element in the set.</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502\u2502\u2502\u2502\u2502\u250C a normal \\, because \\ isn&#39;t special inside a [].</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502\u2502\u2502\u2502\u2502\u2502\u250C a special ] which indicates the end of the set.</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502\u2502\u2502\u2502\u2502\u2502\u2502</span></span>
<span class="line"><span style="color:#A6ACCD;">[^][^\\]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line highlighted"><span style="color:#A6ACCD;">% cat x</span></span>
<span class="line"><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">a</span></span>
<span class="line"><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">b</span></span>
<span class="line"><span style="color:#A6ACCD;">cxc</span></span>
<span class="line"><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;">d</span></span>
<span class="line"><span style="color:#A6ACCD;">e]]e</span></span>
<span class="line"><span style="color:#A6ACCD;">fx]f\\f</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">% grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[^][^\\]</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> x</span></span>
<span class="line"><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">a</span></span>
<span class="line"><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">b</span></span>
<span class="line"><span style="color:#A6ACCD;">cxc</span></span>
<span class="line"><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;">d</span></span>
<span class="line"><span style="color:#A6ACCD;">e]]e</span></span>
<span class="line"><span style="color:#A6ACCD;">fx]f\\f</span></span>
<span class="line"></span></code></pre></div></div><h3 id="time-for-wilcards" tabindex="-1">Time for wilcards <a class="header-anchor" href="#time-for-wilcards" aria-hidden="true">#</a></h3><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">% ls</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">	]]	x	x]</span></span>
<span class="line"><span style="color:#A6ACCD;">% ls ]</span></span>
<span class="line"><span style="color:#A6ACCD;">]               </span><span style="color:#676E95;"># same as regex</span></span>
<span class="line"><span style="color:#A6ACCD;">% ls </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">*</span></span>
<span class="line"><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;">	]	]]	x]  </span><span style="color:#676E95;"># incomparable</span></span>
<span class="line"><span style="color:#A6ACCD;">% ls </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">               </span><span style="color:#676E95;"># different then regex</span></span>
<span class="line"><span style="color:#A6ACCD;">% ls </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">[]</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">	x           </span><span style="color:#676E95;"># same as regex</span></span>
<span class="line"><span style="color:#A6ACCD;">% ls </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">]]</span></span>
<span class="line"><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;"># same as regex</span></span>
<span class="line"><span style="color:#A6ACCD;">% ls </span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">	x           </span><span style="color:#676E95;"># same as regex</span></span>
<span class="line"><span style="color:#A6ACCD;">% ls </span><span style="color:#89DDFF;">[]</span></span>
<span class="line"><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;"># different then regex, wilcard consider it as normal []</span></span>
<span class="line"><span style="color:#A6ACCD;">% ls </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">x\\]</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">	x           </span><span style="color:#676E95;"># different than regex, the \\ isn&#39;t normal in the set</span></span>
<span class="line"></span></code></pre></div><div class="danger custom-block"><p class="custom-block-title">Final Remarks</p><p>consider <code>grep &#39;AB*C&#39; AB*C</code></p><ul><li>For the first argument <code>&#39;AB*C&#39;</code>, notice the strong quotes, the shell send this argument as-is without quotes. And <code>grep</code> interprete it with regex rules.</li><li>Whereas for the second argument <code>AB*C</code>, the shell first do the wilcard expansion on it then send the resulting file name(s) to <code>grep</code>.</li></ul></div><h2 id="more-regular-expression-syntax" tabindex="-1">More Regular Expression Syntax <a class="header-anchor" href="#more-regular-expression-syntax" aria-hidden="true">#</a></h2>`,50),d=s("thead",null,[s("tr",null,[s("th",null,"Expression"),s("th",null,"Description")])],-1),h=s("tr",null,[s("td",null,[s("code",null,"\\{x\\}")]),s("td",null,[a("Matches "),s("code",null,"x"),a(" repetitions of the preceding regex.")])],-1),y=s("tr",null,[s("td",null,[s("code",null,"\\{x,y\\}")]),s("td",null,[a("Matches "),s("code",null,"x"),a(" to "),s("code",null,"y"),a(" repetitions of the preceding regex.")])],-1),D=s("td",null,[s("code",null,"\\{,x\\}")],-1),C=a("Matches if the number of repetitions of the preceding regex "),A={class:"MathJax",jax:"SVG",style:{direction:"ltr"}},g={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.312ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.76ex",height:"1.751ex",role:"img",focusable:"false",viewBox:"0 -636 778 774"},u=s("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[s("g",{"data-mml-node":"math"},[s("g",{"data-mml-node":"mo"},[s("path",{"data-c":"2264",d:"M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z",style:{"stroke-width":"3"}})])])],-1),F=[u],f=a(),m=s("code",null,"x",-1),b=a("."),x=s("td",null,[s("code",null,"\\{x,\\}")],-1),w=a("Matches if the number of repetitions of the preceding regex "),_={class:"MathJax",jax:"SVG",style:{direction:"ltr"}},E={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.312ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.76ex",height:"1.751ex",role:"img",focusable:"false",viewBox:"0 -636 778 774"},v=s("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[s("g",{"data-mml-node":"math"},[s("g",{"data-mml-node":"mo"},[s("path",{"data-c":"2265",d:"M83 616Q83 624 89 630T99 636Q107 636 253 568T543 431T687 361Q694 356 694 346T687 331Q685 329 395 192L107 56H101Q83 58 83 76Q83 77 83 79Q82 86 98 95Q117 105 248 167Q326 204 378 228L626 346L360 472Q291 505 200 548Q112 589 98 597T83 616ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z",style:{"stroke-width":"3"}})])])],-1),k=[v],T=a(),q=s("code",null,"x",-1),z=a("."),S=s("tr",null,[s("td",null,[s("code",null,"\\>")]),s("td",null,[a("The preceding regex must end at the end of a "),s("strong",null,"word"),a(".")])],-1),Q=s("tr",null,[s("td",null,[s("code",null,"\\<")]),s("td",null,[a("The preceding regex must end at the start of a "),s("strong",null,"word"),a(".")])],-1),B=s("tr",null,[s("td",null,[s("code",null,"\\(...\\)")]),s("td",null,[a("Define a "),s("strong",null,"group"),a(" for a sub-portion of the regex. A group can be used before "),s("code",null,"*"),a(" or "),s("code",null,"\\{...\\}"),a(", which match the repetition of the entire group.")])],-1),I=s("tr",null,[s("td",null,[s("code",null,"\\1"),a(", "),s("code",null,"\\2"),a(", etc.")]),s("td",null,"Backreference. Identify a rematch to the earlier pattern. We'll see the detail below.")],-1),R=o(`<h3 id="repetition" tabindex="-1">Repetition <a class="header-anchor" href="#repetition" aria-hidden="true">#</a></h3><p>Regex is <strong>GREEDY</strong>. By which it always takes the <strong>longest</strong> possible match, without considering how this will affect later matches. Let&#39;s see some examples.</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#676E95;"># Use -o to make grep print only the matching part of the lines.</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> happy </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep -o </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[a-z]\\{2,3\\}</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">hap</span></span>
<span class="line"><span style="color:#A6ACCD;">py</span></span>
<span class="line"><span style="color:#676E95;"># It first matches as long as it can, i.e. 3 repetitions!</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> happ </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep -o </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[a-z]\\{2,3\\}</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">hap</span></span>
<span class="line"><span style="color:#676E95;"># It can match 2 sets of 2 repetitions if it wants,</span></span>
<span class="line"><span style="color:#676E95;"># but it instead takes the longest match first.</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> happ </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep -o </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[a-z]\\{,3\\}</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">hap</span></span>
<span class="line"><span style="color:#A6ACCD;">p</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> happ </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep -o </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[a-z]\\{1,\\}</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">happ</span></span>
<span class="line"></span></code></pre></div><h3 id="the-end-of-a-word" tabindex="-1">The end of a word <a class="header-anchor" href="#the-end-of-a-word" aria-hidden="true">#</a></h3><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#676E95;"># How to split </span></span>
<span class="line"><span style="color:#676E95;">#   There are the others</span></span>
<span class="line"><span style="color:#676E95;"># into this </span></span>
<span class="line"><span style="color:#676E95;">#   There are</span></span>
<span class="line"><span style="color:#676E95;">#   the others</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># Use -i to make grep perform case insensitive matching.</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">There are the others</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep -io </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[a-z]*\\&gt; [a-z]*\\&gt; </span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">There are                                       </span><span style="color:#676E95;"># \u2191________\u2191___ blank spaces here</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">There are the others </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep -io </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[a-z]*\\&gt; [a-z]*\\&gt; </span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">There are                 </span><span style="color:#676E95;"># \u2191______________________\u2191________\u2191__ blank spaces here</span></span>
<span class="line"><span style="color:#A6ACCD;">the others</span></span>
<span class="line"><span style="color:#676E95;"># We did it, but changing the input string is kind of cheating.</span></span>
<span class="line"><span style="color:#676E95;"># we need to find a right regex pattern.</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">There are the others</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep -io </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[a-z]*\\&gt; [a-z]*\\&gt;</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">There are                                       </span><span style="color:#676E95;"># \u2191____________ blank spaces here</span></span>
<span class="line"><span style="color:#A6ACCD;"> the                                            </span><span style="color:#676E95;"># \u2502</span></span>
<span class="line"><span style="color:#A6ACCD;"> others                                         </span><span style="color:#676E95;"># \u2502</span></span>
<span class="line"><span style="color:#676E95;"># The start of 2nd and 3rd matches are matched to \u2518</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">There are the others</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep -io </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[a-z]*\\&gt; [a-z]*\\&gt; *</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">There are </span></span>
<span class="line"><span style="color:#A6ACCD;">the others</span></span>
<span class="line"><span style="color:#676E95;"># Finally, the solution is to make the last space optional.</span></span>
<span class="line"></span></code></pre></div><p>Let&#39;s see what is considered as a <strong>word</strong>.</p><p><code>% echo &quot;e,e;e-e+e_e:e5e.e?e&quot;\\!e\\&quot;e\\&#39;e | grep --color &#39;e\\&gt;&#39;</code></p><p><span style="color:red;">e</span>,<span style="color:red;">e</span>:<span style="color:red;">e</span>-<span style="color:red;">e</span>+e_<span style="color:red;">e</span>:e5<span style="color:red;">e</span>.<span style="color:red;">e</span>?<span style="color:red;">e</span>&quot;<span style="color:red;">e</span>&#39;<span style="color:red;">e</span></p><p>So punctuation and newline are OK, but <strong>underscore</strong> and <strong>number</strong> are not.</p><h3 id="the-start-of-a-word" tabindex="-1">The start of a word <a class="header-anchor" href="#the-start-of-a-word" aria-hidden="true">#</a></h3><p>Why is it necessary? Let&#39;s see an example</p><p><code>% echo &quot;There are the others&quot; | grep -i --color &#39;\\&lt;the&#39;</code></p><p><span style="color:red;">The</span>re are <span style="color:red;">the</span> others</p><div class="warning custom-block"><p class="custom-block-title">None of These Find The Same Matches</p><p><code>% echo &quot;There are the others&quot; | grep -i --color &#39; the&#39;</code></p><p>There are <span style="color:red;">the</span> others</p><p><code>% echo &quot;There are the others&quot; | grep -i --color &#39;^the&#39;</code></p><p><span style="color:red;">The</span>re are the others</p><p><code>% echo &quot;There are the others&quot; | grep -i --color &#39;the&#39;</code></p><p><span style="color:red;">The</span>re are <span style="color:red;">the</span> o<span style="color:red;">the</span>rs</p></div><div class="danger custom-block"><p class="custom-block-title">The Closest You Can Get Without &amp;lt;</p><p><code>% echo &quot;There are the others&quot; | grep -i --color -e &#39; the&#39; -e &#39;^the&#39;</code></p><p><span style="color:red;">The</span>re are <span style="color:red;">the</span> others</p><p>However, it&#39;s still not the same.</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">There are the others</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep -io -e </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"> the</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> -e </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">^the</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">The</span></span>
<span class="line"><span style="color:#A6ACCD;"> the</span></span>
<span class="line"><span style="color:#676E95;"># Notice the blank is also captured along with \`the\`</span></span>
<span class="line"></span></code></pre></div></div><h3 id="group" tabindex="-1">Group <a class="header-anchor" href="#group" aria-hidden="true">#</a></h3><p>Let&#39;s find a pair of a consonant followed by a vowel.</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> irregulars </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep -o </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[b-df-hj-np-tv-z][aeiou][b-df-hj-np-tv-z][aeiou]</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">regu</span></span>
<span class="line"><span style="color:#676E95;"># could we make the regex shorter</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> irregulars </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep -o </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\\([b-df-hj-np-tv-z][aeiou]\\)\\{2\\}</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">regu</span></span>
<span class="line"><span style="color:#676E95;"># we can even find more pairs of it</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> irregulars </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep -o </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\\([b-df-hj-np-tv-z][aeiou]\\)*</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">regula</span></span>
<span class="line"><span style="color:#676E95;"># or put the vowel in the front</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> irregulars </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep -o </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\\([aeiou][b-df-hj-np-tv-z]\\)*</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">ir</span></span>
<span class="line"><span style="color:#A6ACCD;">egular</span></span>
<span class="line"></span></code></pre></div><h3 id="backreference" tabindex="-1">Backreference <a class="header-anchor" href="#backreference" aria-hidden="true">#</a></h3><p>Backreference let you identify a rematch to the earlier pattern. Noted that it rematched the <strong>text</strong> instead of reusing the <strong>pattern</strong>.</p><p><span style="color:green;">\\([a-z]\\)</span><span style="color:red;">\\([a-z]\\)</span><span style="color:green;">\\1</span><span style="color:red;">\\2</span></p><p>b<span style="color:green;">a</span><span style="color:red;">n</span><span style="color:green;">a</span><span style="color:red;">n</span>a</p><p><span style="color:green;">n</span><span style="color:red;">o</span><span style="color:green;">n</span><span style="color:red;">o</span>gram</p><div class="warning custom-block"><p class="custom-block-title">Double-match</p><p>&quot;banana&quot; is a double-match , because there&#39;s ba<span style="color:green;">n</span><span style="color:red;">a</span><span style="color:green;">n</span><span style="color:red;">a</span>.</p><p>However, <code>grep</code> scans from left to right.</p></div><h4 id="backreferencing-palindromes" tabindex="-1">Backreferencing palindromes <a class="header-anchor" href="#backreferencing-palindromes" aria-hidden="true">#</a></h4><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#676E95;"># 3-letter palindromes</span></span>
<span class="line"><span style="color:#A6ACCD;">% cat File </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep -o </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\\&lt;\\([a-z]\\)[a-z]\\1\\&gt;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> sort </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> uniq</span></span>
<span class="line"><span style="color:#A6ACCD;">did</span></span>
<span class="line"><span style="color:#A6ACCD;">eve</span></span>
<span class="line"><span style="color:#A6ACCD;">eye</span></span>
<span class="line"><span style="color:#A6ACCD;">wow</span></span>
<span class="line"><span style="color:#676E95;"># 4-letter palindromes</span></span>
<span class="line"><span style="color:#A6ACCD;">% cat File </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep -o </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\\&lt;\\([a-z]\\)\\([a-z]\\)\\2\\1\\&gt;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> sort </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> uniq</span></span>
<span class="line"><span style="color:#A6ACCD;">sees</span></span>
<span class="line"><span style="color:#676E95;"># 3-6-letter palindromes</span></span>
<span class="line"><span style="color:#A6ACCD;">% cat File </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep -o\\</span></span>
<span class="line"><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> -e </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\\&lt;\\([a-z]\\)[a-z]\\1\\&gt;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> -e </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\\&lt;\\([a-z]\\)\\([a-z]\\)\\2\\1\\&gt;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> -e </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\\&lt;\\([a-z]\\)\\([a-z]\\)[a-z]\\2\\1\\&gt;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> -e </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\\&lt;\\([a-z]\\)\\([a-z]\\)\\([a-z]\\)\\3\\2\\1\\&gt;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> sort </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> uniq</span></span>
<span class="line"><span style="color:#A6ACCD;">did</span></span>
<span class="line"><span style="color:#A6ACCD;">eve</span></span>
<span class="line"><span style="color:#A6ACCD;">eye</span></span>
<span class="line"><span style="color:#A6ACCD;">level</span></span>
<span class="line"><span style="color:#A6ACCD;">madam</span></span>
<span class="line"><span style="color:#A6ACCD;">redder</span></span>
<span class="line"><span style="color:#A6ACCD;">sees</span></span>
<span class="line"><span style="color:#A6ACCD;">wow</span></span>
<span class="line"></span></code></pre></div><h3 id="posix-built-in-patterns" tabindex="-1">POSIX built-in patterns <a class="header-anchor" href="#posix-built-in-patterns" aria-hidden="true">#</a></h3><p>There are also some built-in characters sets that you can type in a blaze.</p><table><thead><tr><th>Character Group</th><th>Meaning</th></tr></thead><tbody><tr><td>[:alnum:]</td><td>Alphanumeric</td></tr><tr><td>[:cntrl:]</td><td>Control character</td></tr><tr><td>[:lower:]</td><td>Lower case character</td></tr><tr><td>[:space:]</td><td>Whitespace</td></tr><tr><td>[:alpha:]</td><td>Alphabetic</td></tr><tr><td>[:digit:]</td><td>Digit</td></tr><tr><td>[:print:]</td><td>Printable character</td></tr><tr><td>[:upper:]</td><td>Upper case character</td></tr><tr><td>[:blank:]</td><td>Whitespace, tab, etc.</td></tr><tr><td>[:graph:]</td><td>Printable and visible characters</td></tr><tr><td>[:punct:]</td><td>Punctuation</td></tr><tr><td>[:xdigit:]</td><td>Extended Digit</td></tr></tbody></table><h2 id="extended-regular-expressions" tabindex="-1">Extended Regular Expressions <a class="header-anchor" href="#extended-regular-expressions" aria-hidden="true">#</a></h2><p>The languages specifiable by regular expressions can be extended in 2 ways:</p><ol><li>To make them easier to write <ul><li>This does not alter the expressivity, i.e. you can only specifiy the same range of languages</li></ul></li><li>To allow a choice of patterns <ul><li>The OR operation</li></ul></li></ol><table><thead><tr><th>Symbol</th><th>Description</th></tr></thead><tbody><tr><td><code>?</code></td><td>Makes the preceding expression optional, i.e. <code>\\{0,1\\}</code>.</td></tr><tr><td><code>+</code></td><td>Requires the preceding expression to occur <strong>at least once</strong>, i.e. <code>\\{1,\\}</code>.</td></tr><tr><td>\`</td><td>\`</td></tr><tr><td><code>()</code></td><td>Can be used to change the associatibity of \`</td></tr></tbody></table><p>Use <code>egrep</code> to use extended regex!</p><p><code>% echo &quot;multiple bananas&quot; | egrep --color &#39;[aeiou][b-df-hj-np-tv-z][aeiou]*&#39;</code></p><p>m<span style="color:red;">ul</span>t<span style="color:red;">ip</span>le b<span style="color:red;">ana</span>n<span style="color:red;">as</span></p><p><code>% echo &quot;multiple bananas&quot; | egrep --color &#39;[aeiou]([b-df-hj-np-tv-z][aeiou])*&#39;</code></p><p>m<span style="color:red;">u</span>lt<span style="color:red;">i</span>pl<span style="color:red;">e</span> b<span style="color:red;">anana</span>s</p><p><code>% echo &quot;multiple bananas&quot; | egrep --color &#39;[aeiou][b-df-hj-np-tv-z][aeiou]+&#39;</code></p><p>multiple b<span style="color:red;">ana</span>nas</p><p><code>% echo &quot;multiple bananas&quot; | egrep --color &#39;[aeiou]([b-df-hj-np-tv-z][aeiou])+&#39;</code></p><p>multiple b<span style="color:red;">anana</span>s</p><p><code>% echo &quot;multiple bananas&quot; | egrep --color &#39;[aeiou]([b-df-hj-np-tv-z][aeiou])?&#39;</code></p><p>m<span style="color:red;">u</span>lt<span style="color:red;">i</span>pl<span style="color:red;">e</span> b<span style="color:red;">ana</span>n<span style="color:red;">a</span>s</p><h3 id="compare-grep-and-egrep" tabindex="-1">Compare <code>grep</code> and <code>egrep</code> <a class="header-anchor" href="#compare-grep-and-egrep" aria-hidden="true">#</a></h3><table><thead><tr><th>Expression</th><th>In <code>grep</code></th><th>In <code>egrep</code></th></tr></thead><tbody><tr><td>\`abc</td><td>def\`</td><td>the string \`abc</td></tr><tr><td>\`(a$)</td><td>(b(c</td><td>d)e)\`</td></tr><tr><td><code>ab+c</code></td><td>the string <code>ab+c</code></td><td><code>abc</code> or <code>abbc</code>, or <code>abbbc</code>, etc.</td></tr><tr><td><code>\\([ab]\\)\\1</code></td><td><code>aa</code> or <code>bb</code></td><td><code>(a)1</code> or <code>(b)1</code></td></tr><tr><td><code>a\\{2</code></td><td>an error, closing } not found</td><td><code>a{2</code></td></tr><tr><td><code>\\&lt;a</code></td><td>words begin with <code>a</code></td><td><code>&lt;a</code> (in standard egrep)</td></tr></tbody></table><h4 id="how-they-identify-numbers-in-lexical-analysis-for-some-programming-language" tabindex="-1">How they identify <strong>numbers</strong> in lexical analysis for some programming language <a class="header-anchor" href="#how-they-identify-numbers-in-lexical-analysis-for-some-programming-language" aria-hidden="true">#</a></h4><h5 id="state-diagram" tabindex="-1">State diagram <a class="header-anchor" href="#state-diagram" aria-hidden="true">#</a></h5><p>Define <strong>digit</strong> as <code>[0-9]</code> in regex <img src="`+r+`" alt="number"></p><h5 id="grep-2" tabindex="-1"><code>grep</code> <a class="header-anchor" href="#grep-2" aria-hidden="true">#</a></h5><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">[+-]\\{,1\\}[0-9]\\{1,\\}\\(\\.[0-9]\\{1,\\}\\)\\{,1\\}\\([Ee][+-]\\{,1\\}[0-9]\\{1,\\}\\)\\{,1\\}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h5 id="egrep" tabindex="-1"><code>egrep</code> <a class="header-anchor" href="#egrep" aria-hidden="true">#</a></h5><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">[+-]?[0-9]+(\\.[0-9]+)?([Ee][+-]?[0-9]+)?</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><table><thead><tr><th><code>grep</code></th><th><code>egrep</code></th></tr></thead><tbody><tr><td><code>[+-]\\{,1\\}</code></td><td><code>[+-]?</code></td></tr><tr><td><code>[0-9]\\{1,\\}</code></td><td><code>[0-9]+</code></td></tr><tr><td><code>\\(\\.[0-9]\\{1,\\}\\)\\{,1\\}</code></td><td><code>(\\.[0-9]+)?</code></td></tr><tr><td><code>\\([Ee][+-]\\{,1\\}[0-9]\\{1,\\}\\)\\{,1\\}</code></td><td><code>([Ee][+-]?[0-9]+)?</code></td></tr></tbody></table>`,54);function M(L,j,$,H,W,P){return n(),e("div",null,[i,s("table",null,[d,s("tbody",null,[h,y,s("tr",null,[D,s("td",null,[C,s("mjx-container",A,[(n(),e("svg",g,F))]),f,m,b])]),s("tr",null,[x,s("td",null,[w,s("mjx-container",_,[(n(),e("svg",E,k))]),T,q,z])]),S,Q,B,I])]),R])}const V=t(c,[["render",M]]);export{O as __pageData,V as default};
