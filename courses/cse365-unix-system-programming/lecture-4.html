<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lecture 4 | Ernie's course notes</title>
    <meta name="description" content="Thank you for visiting my course notes">
    <link rel="stylesheet" href="/course-notes/assets/style.5bbe01c9.css">
    <link rel="modulepreload" href="/course-notes/assets/app.b33521bb.js">
    <link rel="modulepreload" href="/course-notes/assets/courses_cse365-unix-system-programming_lecture-4.md.efd4f9db.lean.js">
    
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-ca9ccb7e><!--[--><!--]--><!--[--><span tabindex="-1" data-v-151f2593></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-151f2593> Skip to content </a><!--]--><!----><header class="VPNav" data-v-ca9ccb7e data-v-a71a30f1><div class="VPNavBar has-sidebar" data-v-a71a30f1 data-v-a35e6f52><div class="container" data-v-a35e6f52><div class="VPNavBarTitle has-sidebar" data-v-a35e6f52 data-v-d5925166><a class="title" href="/course-notes/" data-v-d5925166><!--[--><!--]--><!----><!--[-->Ernie&#39;s course notes<!--]--><!--[--><!--]--></a></div><div class="content" data-v-a35e6f52><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-a35e6f52 data-v-f83db6ba><span id="main-nav-aria-label" class="visually-hidden" data-v-f83db6ba>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/course-notes/courses/cse350-computer-network/" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->CSE350<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/course-notes/courses/cse365-unix-system-programming/" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->CSE365<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/course-notes/courses/cse360-design-and-implementation-of-compiler/" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->CSE360<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/course-notes/courses/cse491-network-application-programming/" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->CSE491<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-a35e6f52 data-v-a3e7452b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-a3e7452b data-v-968780f1 data-v-086e8519><span class="check" data-v-086e8519><span class="icon" data-v-086e8519><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-968780f1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-968780f1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-a35e6f52 data-v-e89b88d7 data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6ffb57d3><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-6ffb57d3><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><!----><!--[--><!--[--><!----><div class="group" data-v-e89b88d7><div class="item appearance" data-v-e89b88d7><p class="label" data-v-e89b88d7>Appearance</p><div class="appearance-action" data-v-e89b88d7><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-e89b88d7 data-v-968780f1 data-v-086e8519><span class="check" data-v-086e8519><span class="icon" data-v-086e8519><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-968780f1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-968780f1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-a35e6f52 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-ca9ccb7e data-v-aac27d5e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-aac27d5e><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-aac27d5e><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-aac27d5e>Menu</span></button><a class="top-link" href="#" data-v-aac27d5e> Return to top </a></div><aside class="VPSidebar" data-v-ca9ccb7e data-v-f332cb62><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-f332cb62><span class="visually-hidden" id="sidebar-aria-label" data-v-f332cb62> Sidebar Navigation </span><!--[--><div class="group" data-v-f332cb62><section class="VPSidebarGroup" data-v-f332cb62 data-v-2976c796><div class="title" data-v-2976c796><h2 class="title-text" data-v-2976c796>CSE365 Unix System Programming</h2><div class="action" data-v-2976c796><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-2976c796><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-2976c796><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-2976c796><!--[--><a class="VPLink link link" href="/course-notes/courses/cse365-unix-system-programming/" data-v-2976c796 data-v-f7e544fc data-v-3c355974><!--[--><span class="link-text" data-v-f7e544fc>Introduction</span><!----><!--]--><!----></a><a class="VPLink link link" href="/course-notes/courses/cse365-unix-system-programming/lecture-1.html" data-v-2976c796 data-v-f7e544fc data-v-3c355974><!--[--><span class="link-text" data-v-f7e544fc>Lecture 1</span><!----><!--]--><!----></a><a class="VPLink link link" href="/course-notes/courses/cse365-unix-system-programming/lecture-2.html" data-v-2976c796 data-v-f7e544fc data-v-3c355974><!--[--><span class="link-text" data-v-f7e544fc>Lecture 2</span><!----><!--]--><!----></a><a class="VPLink link link" href="/course-notes/courses/cse365-unix-system-programming/lecture-3.html" data-v-2976c796 data-v-f7e544fc data-v-3c355974><!--[--><span class="link-text" data-v-f7e544fc>Lecture 3</span><!----><!--]--><!----></a><a class="VPLink link link active" href="/course-notes/courses/cse365-unix-system-programming/lecture-4.html" data-v-2976c796 data-v-f7e544fc data-v-3c355974><!--[--><span class="link-text" data-v-f7e544fc>Lecture 4</span><!----><!--]--><!----></a><a class="VPLink link link" href="/course-notes/courses/cse365-unix-system-programming/lecture-5.html" data-v-2976c796 data-v-f7e544fc data-v-3c355974><!--[--><span class="link-text" data-v-f7e544fc>Lecture 5</span><!----><!--]--><!----></a><a class="VPLink link link" href="/course-notes/courses/cse365-unix-system-programming/lecture-6.html" data-v-2976c796 data-v-f7e544fc data-v-3c355974><!--[--><span class="link-text" data-v-f7e544fc>Lecture 6</span><!----><!--]--><!----></a><a class="VPLink link link" href="/course-notes/courses/cse365-unix-system-programming/midterm-review.html" data-v-2976c796 data-v-f7e544fc data-v-3c355974><!--[--><span class="link-text" data-v-f7e544fc>Midtern Review</span><!----><!--]--><!----></a><!--]--></div></section></div><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-ca9ccb7e data-v-407bd980><div class="VPDoc has-sidebar has-aside" data-v-407bd980 data-v-f0af2311><div class="container" data-v-f0af2311><div class="aside" data-v-f0af2311><div class="aside-curtain" data-v-f0af2311></div><div class="aside-container" data-v-f0af2311><div class="aside-content" data-v-f0af2311><div class="VPDocAside" data-v-f0af2311 data-v-aea49c31><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline has-outline" data-v-aea49c31 data-v-a3de185c><div class="content" data-v-a3de185c><div class="outline-marker" data-v-a3de185c></div><div class="outline-title" data-v-a3de185c>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-a3de185c><span class="visually-hidden" id="doc-outline-aria-label" data-v-a3de185c> Table of Contents for current page </span><ul class="root" data-v-a3de185c><!--[--><li data-v-a3de185c><a class="outline-link" href="#c-shell-control-flow" data-v-a3de185c>C-Shell Control Flow</a><!----></li><li data-v-a3de185c><a class="outline-link" href="#a-delete-script" data-v-a3de185c>A Delete Script</a><!----></li><li data-v-a3de185c><a class="outline-link" href="#quote" data-v-a3de185c>Quote</a><!----></li><li data-v-a3de185c><a class="outline-link" href="#backslash-es" data-v-a3de185c>Backslash&#39;es&#39;</a><!----></li><li data-v-a3de185c><a class="outline-link" href="#debugging" data-v-a3de185c>Debugging</a><!----></li><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-aea49c31></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-f0af2311><div class="content-container" data-v-f0af2311><!--[--><!--]--><main class="main" data-v-f0af2311><div style="position:relative;" class="vp-doc _course-notes_courses_cse365-unix-system-programming_lecture-4" data-v-f0af2311><div><h1 id="lecture-4" tabindex="-1">Lecture 4 <a class="header-anchor" href="#lecture-4" aria-hidden="true">#</a></h1><h2 id="c-shell-control-flow" tabindex="-1">C-Shell Control Flow <a class="header-anchor" href="#c-shell-control-flow" aria-hidden="true">#</a></h2><ul><li>if <ul><li>then, else, endif</li></ul></li><li>switch <ul><li>case, default, breaksw, end</li></ul></li><li>while <ul><li>continue, break, end</li></ul></li><li>foreach <ul><li>continue, break, end</li></ul></li></ul><h3 id="if-statement" tabindex="-1">if statement <a class="header-anchor" href="#if-statement" aria-hidden="true">#</a></h3><h4 id="simple-format" tabindex="-1">Simple format <a class="header-anchor" href="#simple-format" aria-hidden="true">#</a></h4><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">expression</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">statement</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h4 id="full-format" tabindex="-1">Full format <a class="header-anchor" href="#full-format" aria-hidden="true">#</a></h4><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">expression</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">then</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">statement</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">else</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">expression</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">then</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">statement</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">else</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">statement</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">endif</span></span>
<span class="line"></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">Spaces</p><p>C-shell is super picky about spaces between words and symbles. The spaces in the example above is necessary. If you get an error message while developing, first try fixing it by <strong>adding spaces</strong></p></div><h4 id="csh-condition-test-operators" tabindex="-1">Csh condition test operators <a class="header-anchor" href="#csh-condition-test-operators" aria-hidden="true">#</a></h4><table><tr><th>Symbol</th><th>Name</th><th>Description</th></tr><tr><td>!</td><td>Negate</td><td rowspan="4">Works just as they do in C conditionals</td></tr><tr><td>!=</td><td>Not equal</td></tr><tr><td>==</td><td>Equal</td></tr><tr><td>&gt;, &lt;, &lt;=, &gt;=</td><td>Relational</td></tr><tr><td>=~</td><td>Match to wildcard pattern</td><td>[variable] =~ [pattern]</td></tr><tr><td>!~</td><td>Not match to wildcard pattern</td><td>[variable] !~ [pattern]</td></tr></table><h4 id="csh-conditional-file-tests" tabindex="-1">Csh conditional file tests <a class="header-anchor" href="#csh-conditional-file-tests" aria-hidden="true">#</a></h4><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;"> -d filename </span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># true if filename is a directory</span></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;"> -e filename </span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># true if filename exists</span></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;"> -f filename </span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># true if filename is a plain file</span></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;"> -o filename </span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># true if you own the file</span></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;"> -r filename </span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># true if filename is readable</span></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;"> -w filename </span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># true if filename is writable</span></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;"> -x filename </span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># true if filename is executalbe</span></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;"> -z filename </span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># true if filename is empty</span></span>
<span class="line"></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">Examing Flags From Arguments</p><p>Suppose you want to write a script that accepts a <code>-r</code> option as an script arguments. The following won&#39;t work.</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">1 == -r </span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">The -r flag was given</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><p>If <code>$1</code> is indeed <code>-r</code>, after the substitution, it would become</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;"> -r == -r </span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">The -r flag was given</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">if: Missing file name.</span></span>
<span class="line"></span></code></pre></div><p>which examine if the file <code>==</code> is readable and a trailing <code>-r</code> causing the error.</p></div><div class="tip custom-block"><p class="custom-block-title">Adding a dummy prefix</p><p>The best you can do is to add a dummy prefix, for example</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;"> d</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">1 == d-r </span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">The -r flag was given</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div></div><h3 id="while-loop" tabindex="-1">while loop <a class="header-anchor" href="#while-loop" aria-hidden="true">#</a></h3><h4 id="emulating-for-loop-with-while" tabindex="-1">Emulating for loop with <code>while</code> <a class="header-anchor" href="#emulating-for-loop-with-while" aria-hidden="true">#</a></h4><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#676E95;">#!/bin/tcsh</span></span>
<span class="line"><span style="color:#A6ACCD;">@ i = 0</span></span>
<span class="line"><span style="color:#89DDFF;">while</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">expr </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">i</span><span style="color:#C3E88D;"> </span><span style="color:#A6ACCD;">\&lt;</span><span style="color:#C3E88D;"> 3</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> -n </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">i</span></span>
<span class="line"><span style="color:#A6ACCD;">    @ i++</span></span>
<span class="line"><span style="color:#A6ACCD;">end</span></span>
<span class="line"></span></code></pre></div><details class="details custom-block"><summary>Output</summary><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">0 1 2</span></span>
<span class="line"></span></code></pre></div></details><h3 id="foreach" tabindex="-1">foreach <a class="header-anchor" href="#foreach" aria-hidden="true">#</a></h3><p>Dive into an example</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#676E95;">#!/bin/tcsh</span></span>
<span class="line"><span style="color:#A6ACCD;">foreach person </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Bob Susan Nico</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> Hello </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">person</span></span>
<span class="line"><span style="color:#A6ACCD;">end</span></span>
<span class="line"></span></code></pre></div><details class="details custom-block"><summary>Output</summary><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">Hello Bob</span></span>
<span class="line"><span style="color:#A6ACCD;">Hello Susan</span></span>
<span class="line"><span style="color:#A6ACCD;">Hello Nico</span></span>
<span class="line"></span></code></pre></div></details><div class="tip custom-block"><p class="custom-block-title">Still A Better For Loop</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#676E95;">#!/bin/tcsh</span></span>
<span class="line"><span style="color:#A6ACCD;">foreach i </span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">seq 10 10 100</span><span style="color:#89DDFF;">`</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">i + 1 = </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">expr </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">i</span><span style="color:#C3E88D;"> + 1</span><span style="color:#89DDFF;">`</span></span>
<span class="line"><span style="color:#A6ACCD;">end</span></span>
<span class="line"></span></code></pre></div><details class="details custom-block"><summary>Output</summary><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">10 + 1 = 11</span></span>
<span class="line"><span style="color:#A6ACCD;">20 + 1 = 21</span></span>
<span class="line"><span style="color:#A6ACCD;">30 + 1 = 31</span></span>
<span class="line"><span style="color:#A6ACCD;">40 + 1 = 41</span></span>
<span class="line"><span style="color:#A6ACCD;">50 + 1 = 51</span></span>
<span class="line"><span style="color:#A6ACCD;">60 + 1 = 61</span></span>
<span class="line"><span style="color:#A6ACCD;">70 + 1 = 71</span></span>
<span class="line"><span style="color:#A6ACCD;">80 + 1 = 81</span></span>
<span class="line"><span style="color:#A6ACCD;">90 + 1 = 91</span></span>
<span class="line"><span style="color:#A6ACCD;">100 + 1 = 101</span></span>
<span class="line"></span></code></pre></div></details></div><h2 id="a-delete-script" tabindex="-1">A Delete Script <a class="header-anchor" href="#a-delete-script" aria-hidden="true">#</a></h2><p>Let&#39;s write a scrtpt!</p><h3 id="list-of-functionalities" tabindex="-1">List of functionalities <a class="header-anchor" href="#list-of-functionalities" aria-hidden="true">#</a></h3><p>For each command-line argument</p><ol><li>Ask about whether it should be deleted.</li><li>Read the user&#39;s response from stdin.</li><li>Perform the action indicated by the user&#39;s response.</li></ol><h3 id="source-code" tabindex="-1">Source code <a class="header-anchor" href="#source-code" aria-hidden="true">#</a></h3><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#676E95;">#!/bin/tcsh</span></span>
<span class="line"><span style="color:#A6ACCD;">foreach name </span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">argv</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># loop through arguments</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;"> -f </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">name </span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">then</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># test if it is a file</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> -n </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">delete the file </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">name</span><span style="color:#C3E88D;"> (y/n/q)? </span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">else</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> -n </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">delete the entire directory</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">\</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">name</span><span style="color:#C3E88D;"> (y/n/q)? </span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    endif</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;"> ans = $</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># This symbol indicates to take input from keyboard</span></span>
<span class="line"><span style="color:#A6ACCD;">    switch </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">ans </span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">case</span><span style="color:#A6ACCD;"> n:</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">continue</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">case</span><span style="color:#A6ACCD;"> q:</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">exit</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># no args means $? will be 0</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">case</span><span style="color:#A6ACCD;"> y:</span></span>
<span class="line"><span style="color:#A6ACCD;">            rm -rf </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">name</span></span>
<span class="line"><span style="color:#A6ACCD;">    endsw</span></span>
<span class="line"><span style="color:#A6ACCD;">end</span></span>
<span class="line"></span></code></pre></div><h2 id="quote" tabindex="-1">Quote <a class="header-anchor" href="#quote" aria-hidden="true">#</a></h2><p>So far, we&#39;ve seen many special symbols that have their own special meanings, such as <code>|</code> is for pipelining, <code>$</code> is for variables, etc.. However, what if we want those symbols literally, i.e. the plaintext, no special meaning. Then we <strong>quote</strong> them.</p><p>There&#39;re three quoting symbols</p><table><thead><tr><th>Symbol</th><th>Description</th></tr></thead><tbody><tr><td><code>\</code></td><td>Single charater quote</td></tr><tr><td><code>&#39;</code></td><td>Strong quotes</td></tr><tr><td><code>&quot;</code></td><td>Weak quotes</td></tr></tbody></table><h3 id="strong-quote" tabindex="-1">Strong quote <a class="header-anchor" href="#strong-quote" aria-hidden="true">#</a></h3><p>Stong quote <code>&#39;</code>. What do you mean by strong? If it&#39;s strong, it can turn other special symbols into plaintexts. If a special symbol is <strong>stronger</strong> then it, such as <code>![prefix]</code>, then it cannot suppress the symbol</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Hi! Hi!</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">Hi</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;"> Hi</span><span style="color:#89DDFF;">!</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Hi!Hi!</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">Hi</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">: Event not found.</span></span>
<span class="line"></span></code></pre></div><p>On the line 4, the <code>!</code> thought <code>Hi!</code> was a prefix of a previous command, but obviously, we don&#39;t have commnads with prefix of <code>Hi!</code>.</p><h3 id="weak-quote" tabindex="-1">Weak quote <a class="header-anchor" href="#weak-quote" aria-hidden="true">#</a></h3><p>Weak quote <code>&quot;</code>. Allow dollar sign <code>$</code> and backtick execution <code>`[command]`</code> to expand inside two quotes. i.e. it&#39;s not strong enough to supress these two special symbols.</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Is the executable under </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">PATH</span><span style="color:#C3E88D;">?</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">Is the executable under /usr/local/opt/tcl-tk/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Applications/VMware Fusion.app/Contents/Public:/Library/TeX/texbin:/Library/Apple/usr/bin</span><span style="color:#89DDFF;">?</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">My current directory is </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">pwd</span><span style="color:#89DDFF;">`&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">My current directory is /Users/ernestchu</span></span>
<span class="line"></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">Strength</p><p><strong><code>\</code> &gt; <code>&#39;</code> &gt; <code>&quot;</code></strong></p><ul><li><code>\</code> supresses <code>!</code> (history expansion) and all other commands, even EOL can be quoted. That&#39;s why we can add <code>\</code> at the end of lines to have multi-line commands.</li><li><code>&#39;</code> as <em>weaker</em> quotes, cannot supresses <code>!</code></li><li><code>&quot;</code> as even weaker quotes, cannot surpress <code>!</code>, <code>$</code> and backticks <code>``</code></li></ul></div><div class="danger custom-block"><p class="custom-block-title">Quotes Within Quotes</p><p>The strength is based on what commands do they surpress. But it doesn&#39;t mean <code>\</code> surpresses <code>&#39;</code> or <code>&#39;</code> surpresses <code>&quot;</code>.</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&#39;</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#C3E88D;">% echo </span><span style="color:#89DDFF;">&#39;&quot;</span><span style="color:#C3E88D;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\</span><span style="color:#89DDFF;">&#39;&quot;</span><span style="color:#A6ACCD;">\&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">% echo \&#39;</span><span style="color:#A6ACCD;">\\\&quot;</span></span>
<span class="line"><span style="color:#C3E88D;">&#39;</span><span style="color:#A6ACCD;">\&quot;</span></span>
<span class="line highlighted"><span style="color:#C3E88D;">% echo &#39;&#39;&#39;</span></span>
<span class="line highlighted"><span style="color:#C3E88D;">Unmatched &#39;&#39;&#39;.</span></span>
<span class="line highlighted"><span style="color:#C3E88D;">% echo </span><span style="color:#89DDFF;">&quot;&quot;&quot;</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">Unmatched </span><span style="color:#89DDFF;">&quot;&quot;&quot;</span><span style="color:#C3E88D;">.</span></span>
<span class="line"></span></code></pre></div><p>Interestingly, the only quote that can quote itself is <code>\</code>. Neither <code>&#39;</code> nor <code>&quot;</code> can quote themselves. Why? We&#39;ll see below</p></div><p>The shell parsed commands from left to right</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line highlighted"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">I am in the stong quote interpretation rule.</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">↑                                            ↑</span></span>
<span class="line"><span style="color:#A6ACCD;">│                                  turn off ─┘</span></span>
<span class="line"><span style="color:#A6ACCD;">└─ turn on strong quote interpretation</span></span>
<span class="line"></span></code></pre></div><p>So actually, quotes doesn&#39;t generate string, they just change the way a shell interpretates commands.</p><p>Once it entered the <strong>zone</strong> by hitting <code>&#39;</code>, the shell turn on plaintext interpretation until it hits next <code>&#39;</code>. (Yet except <code>!</code>)</p><h3 id="exercise" tabindex="-1">Exercise <a class="header-anchor" href="#exercise" aria-hidden="true">#</a></h3><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">% echo &#39;This doesn\&#39;t work&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">Unmatched &#39;&#39;&#39;.</span></span>
<span class="line"><span style="color:#A6ACCD;">% echo &#39;Turn off the &quot;strong quote interpretation&quot; first, then it&#39;\&#39;&#39;ll work!&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">Turn off the &quot;strong quote interpretation&quot; first, then it&#39;ll work!</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="backslash-es" tabindex="-1">Backslash&#39;es&#39; <a class="header-anchor" href="#backslash-es" aria-hidden="true">#</a></h2><p>How does <code>echo</code> interpret the <code>\</code> symbol?</p><h3 id="can-we-use-the-escape-sequences-inside-quotes" tabindex="-1">Can we use the escape sequences inside quotes? <a class="header-anchor" href="#can-we-use-the-escape-sequences-inside-quotes" aria-hidden="true">#</a></h3><p>It&#39;s really depends on the shell</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#676E95;"># In tcsh on Steve&#39;s computer</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a\tb\\</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">a   b\</span></span>
<span class="line"><span style="color:#676E95;"># In tcsh on my MacBook</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a\tb\\</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">a\tb\\</span></span>
<span class="line"></span></code></pre></div><p>We&#39;d better follow Steve&#39;s computer...</p><h3 id="from-1-to-n-backslashes" tabindex="-1">From 1 to n backslashes <a class="header-anchor" href="#from-1-to-n-backslashes" aria-hidden="true">#</a></h3><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> \ </span><span style="color:#676E95;"># 1</span></span>
<span class="line"><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;"># this is not an output, it&#39;s an indicator telling you </span></span>
<span class="line"><span style="color:#676E95;"># that the command hasn&#39;t finished, because EOL was suprressed</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> \\ </span><span style="color:#676E95;"># 2</span></span>
<span class="line"><span style="color:#A6ACCD;">\</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> \\\ </span><span style="color:#676E95;"># 3</span></span>
<span class="line"><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># same as line 2</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> \\\\ </span><span style="color:#676E95;"># 4</span></span>
<span class="line"><span style="color:#A6ACCD;">\</span></span>
<span class="line"><span style="color:#676E95;"># csh substitute \\\\ with \\. However, when \\ is sent into echo</span></span>
<span class="line"><span style="color:#676E95;"># as an argument, echo has it&#39;s own substitution again, thus /</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> \\\\\ </span><span style="color:#676E95;"># 5</span></span>
<span class="line"><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># same as line 2, so we know odd number of \ would all get this</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> \\\\\\\\ </span><span style="color:#676E95;"># 8</span></span>
<span class="line"><span style="color:#A6ACCD;">\\ </span><span style="color:#676E95;"># echo receives \\\\, hence substitute with \\ internally</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> \\\\\\\\\\\\\\\\ </span><span style="color:#676E95;"># 16</span></span>
<span class="line"><span style="color:#A6ACCD;">\\\\ </span><span style="color:#676E95;"># echo receives \\\\\\\\.</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> \\\\\\\\\\\\\\\\ </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> xargs </span><span style="color:#82AAFF;">echo</span></span>
<span class="line"><span style="color:#A6ACCD;">\\ </span><span style="color:#676E95;"># been through two internal substitutions of echo</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\\\\\\\\</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> xargs </span><span style="color:#82AAFF;">echo</span></span>
<span class="line"><span style="color:#A6ACCD;">\\ </span><span style="color:#676E95;"># quoted, hence \\\\\\\\ -&gt; \\\\ -&gt; \\</span></span>
<span class="line"></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">xargs Do Not Substitute</p><p>We&#39;ve said <code>echo</code> does it own expansion, what about <code>xargs</code>? Does the <code>\\</code> in <code>xargs echo \\</code> become <code>\</code> before send into <code>echo</code>? The anwser is negative. Let&#39;s look at an example on wildcard expansion</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">% ls </span><span style="color:#89DDFF;">?</span></span>
<span class="line"><span style="color:#A6ACCD;">A B</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">?</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">A B </span><span style="color:#89DDFF;">?</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> xargs </span><span style="color:#82AAFF;">echo</span></span>
<span class="line"><span style="color:#A6ACCD;">A B </span><span style="color:#676E95;"># A B were sent to xargs echo, so it makes sense</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">?</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> xargs </span><span style="color:#82AAFF;">echo</span></span>
<span class="line"><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># ? was sent to xargs echo, and xargs don&#39;t do the expansion</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">echo </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">?</span><span style="color:#89DDFF;">&#39;`</span></span>
<span class="line"><span style="color:#A6ACCD;">A B </span></span>
<span class="line"><span style="color:#676E95;"># while backticks simply substitute echo &#39;?&#39; with ? (without quotes).</span></span>
<span class="line"><span style="color:#676E95;"># so it becomes echo ?</span></span>
<span class="line"></span></code></pre></div></div><h2 id="debugging" tabindex="-1">Debugging <a class="header-anchor" href="#debugging" aria-hidden="true">#</a></h2><p>Not sure if you quote correctly? Especially when you writing a script. Well, Unix provides a great tool to help you out!</p><ul><li><code>set echo</code> print every command executed <strong>after</strong> the subsitution</li><li><code>set verbose</code> print every command executed <strong>before</strong> the substution</li></ul><p>And you can <code>unset</code> them if you want to turn off the behavior.</p></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-f0af2311 data-v-a54a85bd><!----><div class="prev-next" data-v-a54a85bd><div class="pager" data-v-a54a85bd><a class="pager-link prev" href="/course-notes/courses/cse365-unix-system-programming/lecture-3.html" data-v-a54a85bd><span class="desc" data-v-a54a85bd>Previous page</span><span class="title" data-v-a54a85bd>Lecture 3</span></a></div><div class="has-prev pager" data-v-a54a85bd><a class="pager-link next" href="/course-notes/courses/cse365-unix-system-programming/lecture-5.html" data-v-a54a85bd><span class="desc" data-v-a54a85bd>Next page</span><span class="title" data-v-a54a85bd>Lecture 5</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"courses_cse350-computer-network_chapter-1.md\":\"9ce0cae1\",\"courses_cse350-computer-network_chapter-2.md\":\"b833c178\",\"courses_cse350-computer-network_index.md\":\"c1b9acaa\",\"courses_cse360-design-and-implementation-of-compiler_compiler-design.md\":\"4876027a\",\"courses_cse360-design-and-implementation-of-compiler_index.md\":\"11f29411\",\"courses_cse360-design-and-implementation-of-compiler_lexical-analysis_finite-automata.md\":\"0c1988dd\",\"courses_cse360-design-and-implementation-of-compiler_lexical-analysis_from-regular-expressions-to-automata.md\":\"ea236f38\",\"courses_cse360-design-and-implementation-of-compiler_lexical-analysis_optimization-of-dfa-based-pattern-matchers.md\":\"ad0401b6\",\"courses_cse360-design-and-implementation-of-compiler_syntax-analysis_context-free-grammars.md\":\"8fdf5832\",\"courses_cse360-design-and-implementation-of-compiler_syntax-analysis_top-down-parsing.md\":\"7cadde13\",\"courses_cse360-design-and-implementation-of-compiler_syntax-analysis_writing-a-grammar.md\":\"592e991a\",\"courses_cse365-unix-system-programming_index.md\":\"b9f28b3c\",\"courses_cse365-unix-system-programming_lecture-1.md\":\"1af3ef9b\",\"courses_cse365-unix-system-programming_lecture-2.md\":\"804df6ea\",\"courses_cse365-unix-system-programming_lecture-3.md\":\"e14dd02f\",\"courses_cse365-unix-system-programming_lecture-4.md\":\"efd4f9db\",\"courses_cse365-unix-system-programming_lecture-5.md\":\"5706fbe0\",\"courses_cse365-unix-system-programming_lecture-6.md\":\"c1316c1d\",\"courses_cse365-unix-system-programming_lecture-7.md\":\"51b1b653\",\"courses_cse365-unix-system-programming_lecture-9.md\":\"6db05010\",\"courses_cse365-unix-system-programming_midterm-review.md\":\"83ff3782\",\"courses_cse491-network-application-programming_assignments_hw1_hw1.md\":\"f0c49e8c\",\"courses_cse491-network-application-programming_chapter-1.md\":\"048ee211\",\"courses_cse491-network-application-programming_chapter-2.md\":\"d603fc3f\",\"courses_cse491-network-application-programming_chapter-3.md\":\"46dc3b55\",\"courses_cse491-network-application-programming_chapter-4.md\":\"5ff0a693\",\"courses_cse491-network-application-programming_chapter-5.md\":\"dd0befb8\",\"courses_cse491-network-application-programming_chapter-6.md\":\"ac20223c\",\"courses_cse491-network-application-programming_index.md\":\"f61efd2f\",\"index.md\":\"e0afe07f\"}")</script>
    <script type="module" async src="/course-notes/assets/app.b33521bb.js"></script>
    
  </body>
</html>