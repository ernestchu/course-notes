<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.27">
    <title>Lecture 2 | Ernie's course notes</title><meta name="description" content="Thank you for visiting my course notes">
    <link rel="modulepreload" href="/course-notes/assets/app.bdc3a143.js"><link rel="modulepreload" href="/course-notes/assets/lecture-2.html.422449f6.js"><link rel="modulepreload" href="/course-notes/assets/plugin-vue_export-helper.5a098b48.js"><link rel="modulepreload" href="/course-notes/assets/lecture-2.html.3f80710c.js">
    <link rel="stylesheet" href="/course-notes/assets/style.28fc8010.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/course-notes/" class=""><!----><span class="site-name">Ernie&#39;s course notes</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/course-notes/courses/cse350-computer-network/" class="nav-link" aria-label="CSE350 Computer Network"><!--[--><!--]--> CSE350 Computer Network <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/course-notes/courses/cse365-unix-system-programming/" class="nav-link router-link-active" aria-label="CSE365 Unix System Programming"><!--[--><!--]--> CSE365 Unix System Programming <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/course-notes/courses/cse360-design-and-implementation-of-compiler/" class="nav-link" aria-label="CSE360 Design and Implementation of Compiler"><!--[--><!--]--> CSE360 Design and Implementation of Compiler <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/course-notes/courses/cse491-network-application-programming/" class="nav-link" aria-label="CSE491 Network Application Programming"><!--[--><!--]--> CSE491 Network Application Programming <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/ernestchu/course-notes" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/course-notes/courses/cse350-computer-network/" class="nav-link" aria-label="CSE350 Computer Network"><!--[--><!--]--> CSE350 Computer Network <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/course-notes/courses/cse365-unix-system-programming/" class="nav-link router-link-active" aria-label="CSE365 Unix System Programming"><!--[--><!--]--> CSE365 Unix System Programming <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/course-notes/courses/cse360-design-and-implementation-of-compiler/" class="nav-link" aria-label="CSE360 Design and Implementation of Compiler"><!--[--><!--]--> CSE360 Design and Implementation of Compiler <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/course-notes/courses/cse491-network-application-programming/" class="nav-link" aria-label="CSE491 Network Application Programming"><!--[--><!--]--> CSE491 Network Application Programming <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/ernestchu/course-notes" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item">Lecture 2</p><ul class=""><li><!--[--><a aria-current="page" href="/course-notes/courses/cse365-unix-system-programming/lecture-2.html#miscellaneous-commands" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Miscellaneous Commands"><!--[--><!--]--> Miscellaneous Commands <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/course-notes/courses/cse365-unix-system-programming/lecture-2.html#cut" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="cut"><!--[--><!--]--> cut <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/course-notes/courses/cse365-unix-system-programming/lecture-2.html#redirection" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Redirection"><!--[--><!--]--> Redirection <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/course-notes/courses/cse365-unix-system-programming/lecture-2.html#redirection-can-affect-commands" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Redirection can affect commands"><!--[--><!--]--> Redirection can affect commands <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/course-notes/courses/cse365-unix-system-programming/lecture-2.html#various-redrection-modes" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Various redrection modes"><!--[--><!--]--> Various redrection modes <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/course-notes/courses/cse365-unix-system-programming/lecture-2.html#the-pipe" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="The pipe"><!--[--><!--]--> The pipe <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/course-notes/courses/cse365-unix-system-programming/lecture-2.html#command-coordination" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Command Coordination"><!--[--><!--]--> Command Coordination <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/course-notes/courses/cse365-unix-system-programming/lecture-2.html#semicolon" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Semicolon"><!--[--><!--]--> Semicolon <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/course-notes/courses/cse365-unix-system-programming/lecture-2.html#double-ampersands-and-bars" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Double ampersands and bars"><!--[--><!--]--> Double ampersands and bars <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="lecture-2" tabindex="-1"><a class="header-anchor" href="#lecture-2" aria-hidden="true">#</a> Lecture 2</h1><h2 id="miscellaneous-commands" tabindex="-1"><a class="header-anchor" href="#miscellaneous-commands" aria-hidden="true">#</a> Miscellaneous Commands</h2><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><code>echo [string]</code></td><td>print the string, use <code>-n</code> to prevent newline</td></tr><tr><td><code>wc [filename]</code></td><td>word count. [#lines][#words][#characters][filename]</td></tr><tr><td><code>cut [filename]</code></td><td><code>cut</code> charaters(<code>-c</code>) or fields(<code>-f</code>) from each input line</td></tr><tr><td><code>alias </code></td><td>create a command shortcut</td></tr><tr><td><code>basename [string]</code></td><td>print the end part of the argument sent to it</td></tr><tr><td><code>history</code></td><td>list the history of commands you typed</td></tr><tr><td>`![number</td><td>prefix]`</td></tr></tbody></table><h3 id="cut" tabindex="-1"><a class="header-anchor" href="#cut" aria-hidden="true">#</a> cut</h3><p><code>-c</code> and <code>-f</code> can be followed by indices or ranges, where the index start from 1 instead of 0.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>% <span class="token function">cat</span> <span class="token function">file</span>
abcdefghijklmno
% <span class="token function">cut</span> -c4-5,10 <span class="token function">file</span>
dej
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Other useful flags are <code>--complement</code> and <code>-d</code></p><p><code>--complement</code> shows everything except charaters or fields specified by <code>-c</code> and <code>-f</code> repectively.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>% <span class="token function">cut</span> --complement -c4-5,10 <span class="token function">file</span>
abcfghiklmno
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>-d</code> specifies the <strong>delimiter</strong> to seperate fields, the delimiter is default to tab <code>\t</code> if not specified.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>% <span class="token function">cat</span> <span class="token function">file</span>
apple banana cherry
% <span class="token function">cut</span> -f1 <span class="token function">file</span>
apple banana cherry
% <span class="token function">cut</span> -f1 -d<span class="token string">&quot; &quot;</span> <span class="token function">file</span>
apple
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="redirection" tabindex="-1"><a class="header-anchor" href="#redirection" aria-hidden="true">#</a> Redirection</h2><blockquote><p><code>cmd</code> is abbr. for <strong>command</strong> and <code>fn</code> is abbr. for <strong>filename</strong></p></blockquote><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><code>[cmd] &lt; [fn]</code></td><td>Redirect keyboard input to come from a file</td></tr><tr><td><code>[cmd] &gt;, 2&gt;, &amp;&gt; [fn]</code></td><td>Redirect screen output to a file</td></tr><tr><td><code>[cmd] &gt;&gt;, 2&gt;&gt; [fn]</code></td><td>Redirect screen output to the end of a file</td></tr><tr><td>`[cmd]</td><td>[cmd]`</td></tr><tr><td>`[cmd]</td><td>tee [fn]</td></tr><tr><td><code>`[cmd]`</code></td><td>Redirect the output to become an inplace argument</td></tr><tr><td>`[cmd]</td><td>xargs [cmd]`</td></tr></tbody></table><h3 id="redirection-can-affect-commands" tabindex="-1"><a class="header-anchor" href="#redirection-can-affect-commands" aria-hidden="true">#</a> Redirection can affect commands</h3><p>As we&#39;ve learned above, <code>wc -c File</code> will output the number of characters followed by the filename. However, if we didn&#39;t specify the filename, <code>wc</code> would take standard input as a file. In this case, no filename will be output, because there&#39;s no file. Also, we can use redirection to redirect standard input to come from a file. Same as above, <code>wc</code> have no idea of the existance of the file.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>% <span class="token function">wc</span> -c File
<span class="token number">100</span> File
% <span class="token function">wc</span> -c
<span class="token operator">&gt;</span> This is typed
<span class="token operator">&gt;</span> by ourselves
<span class="token operator">&gt;</span> as input fed into <span class="token function">wc</span>
<span class="token operator">&gt;</span> ^D
<span class="token number">48</span>
% <span class="token function">wc</span> -c <span class="token operator">&lt;</span> File
<span class="token number">100</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>A special case for <code>paste</code> command is that if we use <code>-</code> as the argument instead of a filename, <code>paste</code> would take input as the file (can be standard input or redirection).</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>% paste File1 File2
a	1
b	2
c	3
d	4
% paste File1 - &lt; File 2
a	1
b	2
c	3
d	4
% paste - - &lt; File 1
a   b
c   d
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="various-redrection-modes" tabindex="-1"><a class="header-anchor" href="#various-redrection-modes" aria-hidden="true">#</a> Various redrection modes</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>% <span class="token function">cat</span> File
Hello World<span class="token operator">!</span>
% <span class="token builtin class-name">echo</span> End of the world :<span class="token punctuation">(</span> <span class="token operator">&gt;</span> File
% <span class="token function">cat</span> File
End of the world :<span class="token punctuation">(</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>we can see that <code>echo</code> with the redirection <code>&gt;</code> overwrites the existing content in the file. How to prevent that? Use <code>&gt;&gt;</code> instead!</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>% <span class="token function">cat</span> File
Hello World<span class="token operator">!</span>
% <span class="token builtin class-name">echo</span> End of the world <span class="token builtin class-name">:</span><span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> File
% <span class="token function">cat</span> File
Hello World<span class="token operator">!</span> End of the world <span class="token builtin class-name">:</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>&gt;&gt;</code> append the output of a command to the end of a file. In fact, there&#39;re serveral different redirection modes.</p><table><thead><tr><th>Redirection symbol</th><th>Description</th></tr></thead><tbody><tr><td>&amp;&gt;</td><td>Redirect stdout&amp;stderr</td></tr><tr><td>2&gt;</td><td>Redirect stderr only</td></tr><tr><td>&gt;&gt;</td><td>Redirect stdout to the end of a file only</td></tr><tr><td>2&gt;&gt;</td><td>Redirect stderr to the end of a file only</td></tr></tbody></table><p>In addition, if you just want to hide the output by redirection and you don&#39;t a dummy file to be generated, in Unix-like system, you can simply redirect the output to <code>/dev/null</code>, which is an abyss and you do not bother what&#39;s inside it.</p><h3 id="the-pipe" tabindex="-1"><a class="header-anchor" href="#the-pipe" aria-hidden="true">#</a> The pipe</h3><p>You can link commands together into a single command sequence using pipes <code>|</code>. For example, to count how many files are in a directory</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">ls</span> <span class="token operator">|</span> <span class="token function">wc</span> -l
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="tee" tabindex="-1"><a class="header-anchor" href="#tee" aria-hidden="true">#</a> Tee</h4><p>You can use <code>tee</code> to redirect the output to a file and the next command at once</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">ls</span> -l <span class="token operator">|</span> <span class="token function">tee</span> file.txt <span class="token operator">|</span> <span class="token function">less</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><img src="/course-notes/assets/tee.03251343.svg" alt="tee"></p><blockquote><p>Image credit to Wikipeida</p></blockquote><h4 id="backtick" tabindex="-1"><a class="header-anchor" href="#backtick" aria-hidden="true">#</a> Backtick</h4><p>The command within the <code>`[command]`</code> would first be evaluated before run the entire command. For example</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>% <span class="token function">ls</span> -l
total <span class="token number">0</span>
lrwxr-xr-x  <span class="token number">1</span> ernestchu  staff  <span class="token number">16</span> Apr <span class="token number">10</span> <span class="token number">16</span>:10 home -<span class="token operator">&gt;</span> /Users/ernestchu
% <span class="token builtin class-name">cd</span> home
% <span class="token builtin class-name">cd</span> <span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">pwd</span> -P<span class="token variable">`</span></span>
% <span class="token builtin class-name">pwd</span>
/Users/ernestchu
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><code>pwd -P</code> first show the genuine path to current directory, in constrast to the symbolic one, then <code>cd</code> change the current directory to the <strong>argument</strong> generated by <code>pwd -P</code>.</p><h4 id="xargs" tabindex="-1"><a class="header-anchor" href="#xargs" aria-hidden="true">#</a> xargs</h4><p>Consider a scenario that you want to find a keyword in all of the files under current directory. The candidate commands are</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">find</span> <span class="token builtin class-name">.</span> -type f -name <span class="token string">&quot;*&quot;</span>
<span class="token function">fgrep</span> <span class="token punctuation">[</span>keyword<span class="token punctuation">]</span> <span class="token punctuation">[</span>filename<span class="token punctuation">]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>We know that <code>find</code> gives us a list of file names, but how can we feed those file names to <code>fgrep</code>? Maybe</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">find</span> <span class="token builtin class-name">.</span> -type f -name <span class="token string">&quot;*&quot;</span> <span class="token operator">|</span> <span class="token function">fgrep</span> <span class="token string">&quot;int main(&quot;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>However, this would be evaluated as</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">fgrep</span> <span class="token string">&quot;int main(&quot;</span> <span class="token string">&quot;file1 file2 file3 ...&quot;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><code>fgrep</code> searches for the patterns in the string <code>&quot;file1 file2 file3 ...&quot;</code> and of course, <code>&quot;int main(&quot;</code> is not in that string. How would we use that string as individual arguments of file names? Use <code>xargs</code> instead.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">find</span> <span class="token builtin class-name">.</span> -type f -name <span class="token string">&quot;*&quot;</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token function">fgrep</span> <span class="token string">&quot;int main(&quot;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>The command above would be evaluated as</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">fgrep</span> <span class="token string">&quot;int main(&quot;</span> file1 file2 file3 <span class="token punctuation">..</span>.
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Of course, if I were not writting note on <code>xargs</code>, I would just use backticks</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">fgrep</span> <span class="token string">&quot;int main(&quot;</span> <span class="token variable"><span class="token variable">`</span><span class="token function">find</span> <span class="token builtin class-name">.</span> -type f -name <span class="token string">&quot;*&quot;</span><span class="token variable">`</span></span>   
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>But there&#39;s also cases where <code>xargs</code> is irreplaceable.</p><h2 id="command-coordination" tabindex="-1"><a class="header-anchor" href="#command-coordination" aria-hidden="true">#</a> Command Coordination</h2><p>There are three operator that connect commands</p><ul><li>Semicolon <code>;</code></li><li>Double ampersands <code>&amp;&amp;</code></li><li>Double bars <code>||</code></li></ul><h3 id="semicolon" tabindex="-1"><a class="header-anchor" href="#semicolon" aria-hidden="true">#</a> Semicolon</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span><span class="token punctuation">;</span> <span class="token function">ls</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>The semicolon linking two commands just enables them to be typed on the same line. The command above is equivalent to</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> 
<span class="token function">ls</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="double-ampersands-and-bars" tabindex="-1"><a class="header-anchor" href="#double-ampersands-and-bars" aria-hidden="true">#</a> Double ampersands and bars</h3><p>You may have seen <code>&amp;&amp;</code> in C programming language expression. In Unix shell, it can also be used to produce an boolean expression. But more frequenly, it is used with <strong>short circuit evaluation</strong>. Consider</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">cat</span> ExistingFile <span class="token operator">&amp;&gt;</span> /dev/null <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token builtin class-name">echo</span> executed
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>If the <code>ExistingFile</code> do exist, then to get the boolean value of the expression we still need to consider the latter command. So the output will be <code>echo executed</code>. However, if the filename lied, the file cannot be found, then right after the former command is evaluated as false due to the error, the result of the entire expression is determined to be <strong>false</strong>. Therefore, the latter command needn&#39;t and won&#39;t be executed. There would be no output.</p><p>On the other hand, consider</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">cat</span> ExistingFile <span class="token operator">&amp;&gt;</span> /dev/null <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token builtin class-name">echo</span> executed
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>If the first command succeeded, then the result of the expression is determined and there would be no output, vice versa.</p><p>Though we&#39;ll meet if else later in the shell script, but we can purely use <code>&amp;&amp;</code> and <code>||</code> to mimic the conditional statement. Since we&#39;ve not learned the if else syntax in shell script, let&#39;s use C-fashion syntax!</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>cmd1<span class="token punctuation">)</span>
    <span class="token keyword">do</span> cmd2
<span class="token keyword">else</span>
    <span class="token keyword">do</span> cmd3
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>This command snippet can be written in the following form</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>cmd1 <span class="token operator">&amp;&amp;</span> cmd2 <span class="token operator">||</span> cmd3
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>You can think a little bit to figure it our why it works. It&#39;s pretty simple! if you need a nested if else, just use parenthesis to wrap the expression up.</p><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="nav-link external meta-item-label" href="https://github.com/ernestchu/course-notes/edit/main/docs/courses/cse365-unix-system-programming/lecture-2.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub"><!--[--><!--]--> Edit this page on GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">11/10/2021, 6:05:16 PM</span></div><div class="meta-item contributors"><span class="meta-item-label">Authors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: b073040018@nsysu.edu.tw">ernestchu</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/course-notes/assets/app.bdc3a143.js" defer></script>
  </body>
</html>
