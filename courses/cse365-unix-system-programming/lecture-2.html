<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lecture 2 | Ernie's course notes</title>
    <meta name="description" content="Thank you for visiting my course notes">
    <link rel="stylesheet" href="/course-notes/assets/style.5bbe01c9.css">
    <link rel="modulepreload" href="/course-notes/assets/app.b33521bb.js">
    <link rel="modulepreload" href="/course-notes/assets/courses_cse365-unix-system-programming_lecture-2.md.804df6ea.lean.js">
    
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-ca9ccb7e><!--[--><!--]--><!--[--><span tabindex="-1" data-v-151f2593></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-151f2593> Skip to content </a><!--]--><!----><header class="VPNav" data-v-ca9ccb7e data-v-a71a30f1><div class="VPNavBar has-sidebar" data-v-a71a30f1 data-v-a35e6f52><div class="container" data-v-a35e6f52><div class="VPNavBarTitle has-sidebar" data-v-a35e6f52 data-v-d5925166><a class="title" href="/course-notes/" data-v-d5925166><!--[--><!--]--><!----><!--[-->Ernie&#39;s course notes<!--]--><!--[--><!--]--></a></div><div class="content" data-v-a35e6f52><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-a35e6f52 data-v-f83db6ba><span id="main-nav-aria-label" class="visually-hidden" data-v-f83db6ba>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/course-notes/courses/cse350-computer-network/" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->CSE350<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/course-notes/courses/cse365-unix-system-programming/" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->CSE365<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/course-notes/courses/cse360-design-and-implementation-of-compiler/" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->CSE360<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/course-notes/courses/cse491-network-application-programming/" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->CSE491<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-a35e6f52 data-v-a3e7452b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-a3e7452b data-v-968780f1 data-v-086e8519><span class="check" data-v-086e8519><span class="icon" data-v-086e8519><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-968780f1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-968780f1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-a35e6f52 data-v-e89b88d7 data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6ffb57d3><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-6ffb57d3><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><!----><!--[--><!--[--><!----><div class="group" data-v-e89b88d7><div class="item appearance" data-v-e89b88d7><p class="label" data-v-e89b88d7>Appearance</p><div class="appearance-action" data-v-e89b88d7><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-e89b88d7 data-v-968780f1 data-v-086e8519><span class="check" data-v-086e8519><span class="icon" data-v-086e8519><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-968780f1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-968780f1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-a35e6f52 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-ca9ccb7e data-v-aac27d5e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-aac27d5e><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-aac27d5e><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-aac27d5e>Menu</span></button><a class="top-link" href="#" data-v-aac27d5e> Return to top </a></div><aside class="VPSidebar" data-v-ca9ccb7e data-v-f332cb62><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-f332cb62><span class="visually-hidden" id="sidebar-aria-label" data-v-f332cb62> Sidebar Navigation </span><!--[--><div class="group" data-v-f332cb62><section class="VPSidebarGroup" data-v-f332cb62 data-v-2976c796><div class="title" data-v-2976c796><h2 class="title-text" data-v-2976c796>CSE365 Unix System Programming</h2><div class="action" data-v-2976c796><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-2976c796><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-2976c796><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-2976c796><!--[--><a class="VPLink link link" href="/course-notes/courses/cse365-unix-system-programming/" data-v-2976c796 data-v-f7e544fc data-v-3c355974><!--[--><span class="link-text" data-v-f7e544fc>Introduction</span><!----><!--]--><!----></a><a class="VPLink link link" href="/course-notes/courses/cse365-unix-system-programming/lecture-1.html" data-v-2976c796 data-v-f7e544fc data-v-3c355974><!--[--><span class="link-text" data-v-f7e544fc>Lecture 1</span><!----><!--]--><!----></a><a class="VPLink link link active" href="/course-notes/courses/cse365-unix-system-programming/lecture-2.html" data-v-2976c796 data-v-f7e544fc data-v-3c355974><!--[--><span class="link-text" data-v-f7e544fc>Lecture 2</span><!----><!--]--><!----></a><a class="VPLink link link" href="/course-notes/courses/cse365-unix-system-programming/lecture-3.html" data-v-2976c796 data-v-f7e544fc data-v-3c355974><!--[--><span class="link-text" data-v-f7e544fc>Lecture 3</span><!----><!--]--><!----></a><a class="VPLink link link" href="/course-notes/courses/cse365-unix-system-programming/lecture-4.html" data-v-2976c796 data-v-f7e544fc data-v-3c355974><!--[--><span class="link-text" data-v-f7e544fc>Lecture 4</span><!----><!--]--><!----></a><a class="VPLink link link" href="/course-notes/courses/cse365-unix-system-programming/lecture-5.html" data-v-2976c796 data-v-f7e544fc data-v-3c355974><!--[--><span class="link-text" data-v-f7e544fc>Lecture 5</span><!----><!--]--><!----></a><a class="VPLink link link" href="/course-notes/courses/cse365-unix-system-programming/lecture-6.html" data-v-2976c796 data-v-f7e544fc data-v-3c355974><!--[--><span class="link-text" data-v-f7e544fc>Lecture 6</span><!----><!--]--><!----></a><a class="VPLink link link" href="/course-notes/courses/cse365-unix-system-programming/midterm-review.html" data-v-2976c796 data-v-f7e544fc data-v-3c355974><!--[--><span class="link-text" data-v-f7e544fc>Midtern Review</span><!----><!--]--><!----></a><!--]--></div></section></div><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-ca9ccb7e data-v-407bd980><div class="VPDoc has-sidebar has-aside" data-v-407bd980 data-v-f0af2311><div class="container" data-v-f0af2311><div class="aside" data-v-f0af2311><div class="aside-curtain" data-v-f0af2311></div><div class="aside-container" data-v-f0af2311><div class="aside-content" data-v-f0af2311><div class="VPDocAside" data-v-f0af2311 data-v-aea49c31><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline has-outline" data-v-aea49c31 data-v-a3de185c><div class="content" data-v-a3de185c><div class="outline-marker" data-v-a3de185c></div><div class="outline-title" data-v-a3de185c>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-a3de185c><span class="visually-hidden" id="doc-outline-aria-label" data-v-a3de185c> Table of Contents for current page </span><ul class="root" data-v-a3de185c><!--[--><li data-v-a3de185c><a class="outline-link" href="#miscellaneous-commands" data-v-a3de185c>Miscellaneous Commands</a><!----></li><li data-v-a3de185c><a class="outline-link" href="#redirection" data-v-a3de185c>Redirection</a><!----></li><li data-v-a3de185c><a class="outline-link" href="#command-coordination" data-v-a3de185c>Command Coordination</a><!----></li><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-aea49c31></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-f0af2311><div class="content-container" data-v-f0af2311><!--[--><!--]--><main class="main" data-v-f0af2311><div style="position:relative;" class="vp-doc _course-notes_courses_cse365-unix-system-programming_lecture-2" data-v-f0af2311><div><h1 id="lecture-2" tabindex="-1">Lecture 2 <a class="header-anchor" href="#lecture-2" aria-hidden="true">#</a></h1><h2 id="miscellaneous-commands" tabindex="-1">Miscellaneous Commands <a class="header-anchor" href="#miscellaneous-commands" aria-hidden="true">#</a></h2><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><code>echo [string]</code></td><td>print the string, use <code>-n</code> to prevent newline</td></tr><tr><td><code>wc [filename]</code></td><td>word count. [#lines][#words][#characters][filename]</td></tr><tr><td><code>cut [filename]</code></td><td><code>cut</code> charaters(<code>-c</code>) or fields(<code>-f</code>) from each input line</td></tr><tr><td><code>alias </code></td><td>create a command shortcut</td></tr><tr><td><code>basename [string]</code></td><td>print the end part of the argument sent to it</td></tr><tr><td><code>history</code></td><td>list the history of commands you typed</td></tr><tr><td>`![number</td><td>prefix]`</td></tr></tbody></table><h3 id="cut" tabindex="-1">cut <a class="header-anchor" href="#cut" aria-hidden="true">#</a></h3><p><code>-c</code> and <code>-f</code> can be followed by indices or ranges, where the index start from 1 instead of 0.</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">% cat file</span></span>
<span class="line"><span style="color:#A6ACCD;">abcdefghijklmno</span></span>
<span class="line"><span style="color:#A6ACCD;">% cut -c4-5,10 file</span></span>
<span class="line"><span style="color:#A6ACCD;">dej</span></span>
<span class="line"></span></code></pre></div><p>Other useful flags are <code>--complement</code> and <code>-d</code></p><p><code>--complement</code> shows everything except charaters or fields specified by <code>-c</code> and <code>-f</code> repectively.</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">% cut --complement -c4-5,10 file</span></span>
<span class="line"><span style="color:#A6ACCD;">abcfghiklmno</span></span>
<span class="line"></span></code></pre></div><p><code>-d</code> specifies the <strong>delimiter</strong> to seperate fields, the delimiter is default to tab <code>\t</code> if not specified.</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">% cat file</span></span>
<span class="line"><span style="color:#A6ACCD;">apple banana cherry</span></span>
<span class="line"><span style="color:#A6ACCD;">% cut -f1 file</span></span>
<span class="line"><span style="color:#A6ACCD;">apple banana cherry</span></span>
<span class="line"><span style="color:#A6ACCD;">% cut -f1 -d</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> file</span></span>
<span class="line"><span style="color:#A6ACCD;">apple</span></span>
<span class="line"></span></code></pre></div><h2 id="redirection" tabindex="-1">Redirection <a class="header-anchor" href="#redirection" aria-hidden="true">#</a></h2><blockquote><p><code>cmd</code> is abbr. for <strong>command</strong> and <code>fn</code> is abbr. for <strong>filename</strong></p></blockquote><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><code>[cmd] &lt; [fn]</code></td><td>Redirect keyboard input to come from a file</td></tr><tr><td><code>[cmd] &gt;, 2&gt;, &amp;&gt; [fn]</code></td><td>Redirect screen output to a file</td></tr><tr><td><code>[cmd] &gt;&gt;, 2&gt;&gt; [fn]</code></td><td>Redirect screen output to the end of a file</td></tr><tr><td>`[cmd]</td><td>[cmd]`</td></tr><tr><td>`[cmd]</td><td>tee [fn]</td></tr><tr><td><code>`[cmd]`</code></td><td>Redirect the output to become an inplace argument</td></tr><tr><td>`[cmd]</td><td>xargs [cmd]`</td></tr></tbody></table><h3 id="redirection-can-affect-commands" tabindex="-1">Redirection can affect commands <a class="header-anchor" href="#redirection-can-affect-commands" aria-hidden="true">#</a></h3><p>As we&#39;ve learned above, <code>wc -c File</code> will output the number of characters followed by the filename. However, if we didn&#39;t specify the filename, <code>wc</code> would take standard input as a file. In this case, no filename will be output, because there&#39;s no file. Also, we can use redirection to redirect standard input to come from a file. Same as above, <code>wc</code> have no idea of the existance of the file.</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">% wc -c File</span></span>
<span class="line"><span style="color:#A6ACCD;">100 File</span></span>
<span class="line"><span style="color:#A6ACCD;">% wc -c</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> This is typed</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> by ourselves</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> as input fed into wc</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> ^D</span></span>
<span class="line"><span style="color:#A6ACCD;">48</span></span>
<span class="line"><span style="color:#A6ACCD;">% wc -c </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> File</span></span>
<span class="line"><span style="color:#A6ACCD;">100</span></span>
<span class="line"></span></code></pre></div><p>A special case for <code>paste</code> command is that if we use <code>-</code> as the argument instead of a filename, <code>paste</code> would take input as the file (can be standard input or redirection).</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">% paste File1 File2</span></span>
<span class="line"><span style="color:#A6ACCD;">a	1</span></span>
<span class="line"><span style="color:#A6ACCD;">b	2</span></span>
<span class="line"><span style="color:#A6ACCD;">c	3</span></span>
<span class="line"><span style="color:#A6ACCD;">d	4</span></span>
<span class="line"><span style="color:#A6ACCD;">% paste File1 - &lt; File 2</span></span>
<span class="line"><span style="color:#A6ACCD;">a	1</span></span>
<span class="line"><span style="color:#A6ACCD;">b	2</span></span>
<span class="line"><span style="color:#A6ACCD;">c	3</span></span>
<span class="line"><span style="color:#A6ACCD;">d	4</span></span>
<span class="line"><span style="color:#A6ACCD;">% paste - - &lt; File 1</span></span>
<span class="line"><span style="color:#A6ACCD;">a   b</span></span>
<span class="line"><span style="color:#A6ACCD;">c   d</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="various-redrection-modes" tabindex="-1">Various redrection modes <a class="header-anchor" href="#various-redrection-modes" aria-hidden="true">#</a></h3><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">% cat File</span></span>
<span class="line"><span style="color:#A6ACCD;">Hello World</span><span style="color:#89DDFF;">!</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> End of the world :</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> File</span></span>
<span class="line"><span style="color:#A6ACCD;">% cat File</span></span>
<span class="line"><span style="color:#A6ACCD;">End of the world :</span><span style="color:#89DDFF;">(</span></span>
<span class="line"></span></code></pre></div><p>we can see that <code>echo</code> with the redirection <code>&gt;</code> overwrites the existing content in the file. How to prevent that? Use <code>&gt;&gt;</code> instead!</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">% cat File</span></span>
<span class="line"><span style="color:#A6ACCD;">Hello World</span><span style="color:#89DDFF;">!</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> End of the world :) </span><span style="color:#89DDFF;">&gt;&gt;</span><span style="color:#A6ACCD;"> File</span></span>
<span class="line"><span style="color:#A6ACCD;">% cat File</span></span>
<span class="line"><span style="color:#A6ACCD;">Hello World</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;"> End of the world :)</span></span>
<span class="line"></span></code></pre></div><p><code>&gt;&gt;</code> append the output of a command to the end of a file. In fact, there&#39;re serveral different redirection modes.</p><table><thead><tr><th>Redirection symbol</th><th>Description</th></tr></thead><tbody><tr><td>&amp;&gt;</td><td>Redirect stdout&amp;stderr</td></tr><tr><td>2&gt;</td><td>Redirect stderr only</td></tr><tr><td>&gt;&gt;</td><td>Redirect stdout to the end of a file only</td></tr><tr><td>2&gt;&gt;</td><td>Redirect stderr to the end of a file only</td></tr></tbody></table><p>In addition, if you just want to hide the output by redirection and you don&#39;t a dummy file to be generated, in Unix-like system, you can simply redirect the output to <code>/dev/null</code>, which is an abyss and you do not bother what&#39;s inside it.</p><h3 id="the-pipe" tabindex="-1">The pipe <a class="header-anchor" href="#the-pipe" aria-hidden="true">#</a></h3><p>You can link commands together into a single command sequence using pipes <code>|</code>. For example, to count how many files are in a directory</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">ls </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> wc -l</span></span>
<span class="line"></span></code></pre></div><h4 id="tee" tabindex="-1">Tee <a class="header-anchor" href="#tee" aria-hidden="true">#</a></h4><p>You can use <code>tee</code> to redirect the output to a file and the next command at once</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">ls -l </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> tee file.txt </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> less</span></span>
<span class="line"></span></code></pre></div><p><img src="/course-notes/assets/tee.03251343.svg" alt="tee"></p><blockquote><p>Image credit to Wikipeida</p></blockquote><h4 id="backtick" tabindex="-1">Backtick <a class="header-anchor" href="#backtick" aria-hidden="true">#</a></h4><p>The command within the <code>`[command]`</code> would first be evaluated before run the entire command. For example</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">% ls -l</span></span>
<span class="line"><span style="color:#A6ACCD;">total 0</span></span>
<span class="line"><span style="color:#A6ACCD;">lrwxr-xr-x  1 ernestchu  staff  16 Apr 10 16:10 home -</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> /Users/ernestchu</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> home</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">pwd -P</span><span style="color:#89DDFF;">`</span></span>
<span class="line"><span style="color:#A6ACCD;">% </span><span style="color:#82AAFF;">pwd</span></span>
<span class="line"><span style="color:#A6ACCD;">/Users/ernestchu</span></span>
<span class="line"></span></code></pre></div><p><code>pwd -P</code> first show the genuine path to current directory, in constrast to the symbolic one, then <code>cd</code> change the current directory to the <strong>argument</strong> generated by <code>pwd -P</code>.</p><h4 id="xargs" tabindex="-1">xargs <a class="header-anchor" href="#xargs" aria-hidden="true">#</a></h4><p>Consider a scenario that you want to find a keyword in all of the files under current directory. The candidate commands are</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">find </span><span style="color:#82AAFF;">.</span><span style="color:#A6ACCD;"> -type f -name </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">*</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">fgrep </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">keyword</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">filename</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div><p>We know that <code>find</code> gives us a list of file names, but how can we feed those file names to <code>fgrep</code>? Maybe</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">find </span><span style="color:#82AAFF;">.</span><span style="color:#A6ACCD;"> -type f -name </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> fgrep </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">int main(</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><p>However, this would be evaluated as</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">fgrep </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">int main(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">file1 file2 file3 ...</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><p><code>fgrep</code> searches for the patterns in the string <code>&quot;file1 file2 file3 ...&quot;</code> and of course, <code>&quot;int main(&quot;</code> is not in that string. How would we use that string as individual arguments of file names? Use <code>xargs</code> instead.</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">find </span><span style="color:#82AAFF;">.</span><span style="color:#A6ACCD;"> -type f -name </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> xargs fgrep </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">int main(</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><p>The command above would be evaluated as</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">fgrep </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">int main(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> file1 file2 file3 ...</span></span>
<span class="line"></span></code></pre></div><p>Of course, if I were not writting note on <code>xargs</code>, I would just use backticks</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">fgrep </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">int main(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">find </span><span style="color:#82AAFF;">.</span><span style="color:#C3E88D;"> -type f -name </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">*</span><span style="color:#89DDFF;">&quot;`</span><span style="color:#A6ACCD;">   </span></span>
<span class="line"></span></code></pre></div><p>But there&#39;s also cases where <code>xargs</code> is irreplaceable.</p><h2 id="command-coordination" tabindex="-1">Command Coordination <a class="header-anchor" href="#command-coordination" aria-hidden="true">#</a></h2><p>There are three operator that connect commands</p><ul><li>Semicolon <code>;</code></li><li>Double ampersands <code>&amp;&amp;</code></li><li>Double bars <code>||</code></li></ul><h3 id="semicolon" tabindex="-1">Semicolon <a class="header-anchor" href="#semicolon" aria-hidden="true">#</a></h3><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> ls</span></span>
<span class="line"></span></code></pre></div><p>The semicolon linking two commands just enables them to be typed on the same line. The command above is equivalent to</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">ls</span></span>
<span class="line"></span></code></pre></div><h3 id="double-ampersands-and-bars" tabindex="-1">Double ampersands and bars <a class="header-anchor" href="#double-ampersands-and-bars" aria-hidden="true">#</a></h3><p>You may have seen <code>&amp;&amp;</code> in C programming language expression. In Unix shell, it can also be used to produce an boolean expression. But more frequenly, it is used with <strong>short circuit evaluation</strong>. Consider</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">cat ExistingFile </span><span style="color:#89DDFF;">&amp;&gt;</span><span style="color:#A6ACCD;"> /dev/null </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> executed</span></span>
<span class="line"></span></code></pre></div><p>If the <code>ExistingFile</code> do exist, then to get the boolean value of the expression we still need to consider the latter command. So the output will be <code>echo executed</code>. However, if the filename lied, the file cannot be found, then right after the former command is evaluated as false due to the error, the result of the entire expression is determined to be <strong>false</strong>. Therefore, the latter command needn&#39;t and won&#39;t be executed. There would be no output.</p><p>On the other hand, consider</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">cat ExistingFile </span><span style="color:#89DDFF;">&amp;&gt;</span><span style="color:#A6ACCD;"> /dev/null </span><span style="color:#89DDFF;">||</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> executed</span></span>
<span class="line"></span></code></pre></div><p>If the first command succeeded, then the result of the expression is determined and there would be no output, vice versa.</p><p>Though we&#39;ll meet if else later in the shell script, but we can purely use <code>&amp;&amp;</code> and <code>||</code> to mimic the conditional statement. Since we&#39;ve not learned the if else syntax in shell script, let&#39;s use C-fashion syntax!</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">cmd1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">do</span><span style="color:#A6ACCD;"> cmd2</span></span>
<span class="line"><span style="color:#89DDFF;">else</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">do</span><span style="color:#A6ACCD;"> cmd3</span></span>
<span class="line"></span></code></pre></div><p>This command snippet can be written in the following form</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">cmd1 </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> cmd2 </span><span style="color:#89DDFF;">||</span><span style="color:#A6ACCD;"> cmd3</span></span>
<span class="line"></span></code></pre></div><p>You can think a little bit to figure it our why it works. It&#39;s pretty simple! if you need a nested if else, just use parenthesis to wrap the expression up.</p></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-f0af2311 data-v-a54a85bd><!----><div class="prev-next" data-v-a54a85bd><div class="pager" data-v-a54a85bd><a class="pager-link prev" href="/course-notes/courses/cse365-unix-system-programming/lecture-1.html" data-v-a54a85bd><span class="desc" data-v-a54a85bd>Previous page</span><span class="title" data-v-a54a85bd>Lecture 1</span></a></div><div class="has-prev pager" data-v-a54a85bd><a class="pager-link next" href="/course-notes/courses/cse365-unix-system-programming/lecture-3.html" data-v-a54a85bd><span class="desc" data-v-a54a85bd>Next page</span><span class="title" data-v-a54a85bd>Lecture 3</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"courses_cse350-computer-network_chapter-1.md\":\"9ce0cae1\",\"courses_cse350-computer-network_chapter-2.md\":\"b833c178\",\"courses_cse350-computer-network_index.md\":\"c1b9acaa\",\"courses_cse360-design-and-implementation-of-compiler_compiler-design.md\":\"4876027a\",\"courses_cse360-design-and-implementation-of-compiler_index.md\":\"11f29411\",\"courses_cse360-design-and-implementation-of-compiler_lexical-analysis_finite-automata.md\":\"0c1988dd\",\"courses_cse360-design-and-implementation-of-compiler_lexical-analysis_from-regular-expressions-to-automata.md\":\"ea236f38\",\"courses_cse360-design-and-implementation-of-compiler_lexical-analysis_optimization-of-dfa-based-pattern-matchers.md\":\"ad0401b6\",\"courses_cse360-design-and-implementation-of-compiler_syntax-analysis_context-free-grammars.md\":\"8fdf5832\",\"courses_cse360-design-and-implementation-of-compiler_syntax-analysis_top-down-parsing.md\":\"7cadde13\",\"courses_cse360-design-and-implementation-of-compiler_syntax-analysis_writing-a-grammar.md\":\"592e991a\",\"courses_cse365-unix-system-programming_index.md\":\"b9f28b3c\",\"courses_cse365-unix-system-programming_lecture-1.md\":\"1af3ef9b\",\"courses_cse365-unix-system-programming_lecture-2.md\":\"804df6ea\",\"courses_cse365-unix-system-programming_lecture-3.md\":\"e14dd02f\",\"courses_cse365-unix-system-programming_lecture-4.md\":\"efd4f9db\",\"courses_cse365-unix-system-programming_lecture-5.md\":\"5706fbe0\",\"courses_cse365-unix-system-programming_lecture-6.md\":\"c1316c1d\",\"courses_cse365-unix-system-programming_lecture-7.md\":\"51b1b653\",\"courses_cse365-unix-system-programming_lecture-9.md\":\"6db05010\",\"courses_cse365-unix-system-programming_midterm-review.md\":\"83ff3782\",\"courses_cse491-network-application-programming_assignments_hw1_hw1.md\":\"f0c49e8c\",\"courses_cse491-network-application-programming_chapter-1.md\":\"048ee211\",\"courses_cse491-network-application-programming_chapter-2.md\":\"d603fc3f\",\"courses_cse491-network-application-programming_chapter-3.md\":\"46dc3b55\",\"courses_cse491-network-application-programming_chapter-4.md\":\"5ff0a693\",\"courses_cse491-network-application-programming_chapter-5.md\":\"dd0befb8\",\"courses_cse491-network-application-programming_chapter-6.md\":\"ac20223c\",\"courses_cse491-network-application-programming_index.md\":\"f61efd2f\",\"index.md\":\"e0afe07f\"}")</script>
    <script type="module" async src="/course-notes/assets/app.b33521bb.js"></script>
    
  </body>
</html>